var documenterSearchIndex = {"docs":
[{"location":"chapter7/#.-Documenting-your-Module","page":"7 - Documenting your module","title":"7. Documenting your Module","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"To display the documentation of your project to the public, you have several options, amongst others:","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Use the README.md file.\nCreate the documentation with the Julia package Documenter.jl.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"You write the documentation in markdown language.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"The Julia package Documenter.jl creates HTML-pages based on the Julia Markdown language. See also the Documenter.jl Style Guide for guidelines.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"If you have a GitHub website, then the documentation becomes visible when you push the data to GitHub. An example is a documentation for the AppliGeneralLedger package we use in this course.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"You can set up a website by creating a repository with the name <your username>.gitub.io and enable it for GitHub Pages and push your pages written in markdown language to GitHub.","category":"page"},{"location":"chapter7/#Contents","page":"7 - Documenting your module","title":"Contents","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Pages = [\"chapter7.md\"]","category":"page"},{"location":"chapter7/#Activity-7.1-Initialize-the-File-Infrastructure-for-the-Documentation","page":"7 - Documenting your module","title":"Activity 7.1 - Initialize the File Infrastructure for the Documentation","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Before you write the documentation you have to set up the file structure.","category":"page"},{"location":"chapter7/#Prerequisites","page":"7 - Documenting your module","title":"Prerequisites","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Ubuntu 20.04.\nJulia 1.5 installed.\nAtom/Juno installed.\nGit installed.\nThe finished Exercise 5.1: Adding the sub-module Infrastructure.\nA GitHub website. See GitHub pages for more information.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"In this activity you will:","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Create the git branch.\nAdd the Documenter.jl and DocumenterTools.jl packages.\nCreate the file structure for your documentation.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"","category":"page"},{"location":"chapter7/#Step-1:-Create-the-Git-Branch.","page":"7 - Documenting your module","title":"Step 1: Create the Git Branch.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"When you want to add new features to a project it is common to create a Git branch. This gives you the freedom to write and test your code without disturbing the current code. You finish your work by merging it into the main branch. In this step, you create the branch docs.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n1 $ cd ~/.julia/dev/Accounts Or make a clone of Accounts with git clone https://github.com/rbontekoe/Accounts.jl.git.\n2 $ git branch docs Create a new branch.\n3 $ git checkout docs Make the docs branch active.\n4 $ atom . Start Atom/Juno.\n5 Juno > Open REPL Start Julia.","category":"page"},{"location":"chapter7/#Step-2:-Add-the-Documenter-and-DocumenterTools-Packages.","page":"7 - Documenting your module","title":"Step 2: Add the Documenter and DocumenterTools Packages.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Documentation for GitHub is more or less standardized when you want to use GitHub Pages. To assist you, you can use the Julia packages Documenter.jl and  DocumenterTools.jl.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n1 julia> ] Start the package manager.\n2 pkg> add Documenter Add the Documenter.jl package. It is installed in the general repository, so we can use it always.\n3 pkg> add DocumenterTools Add the tool to generate the basic file structure\n4 Press: <BackSpace> Return to Julia.","category":"page"},{"location":"chapter7/#Step-3:-Create-the-File-Structure.","page":"7 - Documenting your module","title":"Step 3: Create the File Structure.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"The Julia package DocumenterTools.jl creates the folder docs in your project and the necessary folders and files.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n1 julia> using Documenter Load the Documenter package.\n2 julia> using DocumenterTools Load the DocumenterTools package.\n3 julia> DocumenterTools.generate(name=\"Accounts\") Create the basic file structure.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"·µ•üìÅ Accounts\n  ·µ•üìÅ docs #1\n    ·µ•üìÅ src #2\n       üìÑ index.md #3\n     üìÑ .gitignore #4\n     üìÑ make.jl #5\n     üìÑ Project.toml #6","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"#1 DocumenterTools creates a sub-folder doc.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"#2 src is one of the two sub-folders within docs. The other one is build that will create when you run make.jl.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"#3 index.md is the markdown file for the home-page of the documentation.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"#4 .gitignore contains the files that will not be uploaded to GitHub. It contains the build-folder.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"#5 make.jl is the Julia program that converts the markdown to HTML-files. The files are put in the build-folder.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"#6 Since Julia version 1.2 you can specify dependencies used by Documenter in Project.jl. (A similar situation applies to the test-folder.)","category":"page"},{"location":"chapter7/#Activity-7.2-Create-the-API-page","page":"7 - Documenting your module","title":"Activity 7.2 - Create the API page","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"You start with building the markdown file for the API method create. Later on in this chapter, you will create the documentation for the Infrastructure methods plus an extra markdown file for an Example.","category":"page"},{"location":"chapter7/#Prerequisites-2","page":"7 - Documenting your module","title":"Prerequisites","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"The previous activity 7.1.\nOptional - Julia markdown documentation","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"In this activity you will:","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Modify the home page.\nCreate the file api.md.","category":"page"},{"location":"chapter7/#Step-1:-Modify-the-home-page.","page":"7 - Documenting your module","title":"Step 1: Modify the home page.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n1 Open index.md Under the folder docs/src\n2 Type on line 3: Documentation of Accounts.jl ","category":"page"},{"location":"chapter7/#Step-2:-Create-the-file-api.md.","page":"7 - Documenting your module","title":"Step 2: Create the file api.md.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n1 Save the file: Ctrl-S \n2 Select: src \n3 Right click and select: New File \n4 Type: api.md \n5 Save the file: <Enter> Press the Enter-button to create the file.\n6 Paste the following code into the file: ","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"# 1. API\n\n## create\n```@docs\ncreate\n```","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n7 Save the file: Ctrl-S ","category":"page"},{"location":"chapter7/#make.jl","page":"7 - Documenting your module","title":"make.jl","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"using Documenter\nusing Accounts\nusing Dates\n\nmakedocs(;\n    modules=[Accounts],\n    format=Documenter.HTML(),\n    pages=[\n        \"Accounts\" => \"index.md\",\n        \"1 - API\" => \"api.md\",\n        #\"2 - Infrastructure\" => \"infrastructure.md\",\n        #\"3 - Example\" => \"example.jl\"\n    ],\n    sitename=\"Accounts.jl\",\n)","category":"page"},{"location":"chapter7/#Activity-7.3-Create-the-documentation","page":"7 - Documenting your module","title":"Activity 7.3 - Create the documentation","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"You create the documentation with the aid of the Julia code in the file make.jl. The code creates HTML-files from the markdown files in the folder docs/build.","category":"page"},{"location":"chapter7/#Prerequisites-3","page":"7 - Documenting your module","title":"Prerequisites","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"The previous activity 7.2.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"In this activity you will:","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Modify the file make.jl.\nRun the code in the file make.jl.\nDisplay the generated documentation in the browser.\nCopy the HTML-Code to the Folders stable and dev","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"","category":"page"},{"location":"chapter7/#Step-1:-Modify-the-File-make.jl.","page":"7 - Documenting your module","title":"Step 1: Modify the File make.jl.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n[ 1 Open the file make.jl \n2 Replace the code in the code from section make.jl \n3 Ctrl-S Save the file.","category":"page"},{"location":"chapter7/#Step-2:-Run-the-Code-in-the-File-make.jl.","page":"7 - Documenting your module","title":"Step 2: Run the Code in the File make.jl.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"It is time to create the HTML-files.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n1 Ctrl-D Close Julia in REPL panel.\n2 $ atom . Start Atom/Juno.\n3 ] Activate package manager.\n4 Pkg> activate . Activate current folder.\n5 <BackSpace> Return to Julia.\n6 Right-click on: make.jl \n7 Select: Juno > Run All Run the Julia code in the file. You can also click on the triangle in the icon pane left. The following messages appears in the REPL pane:","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"[ Info: SetupBuildDirectory: setting up build directory.\n[ Info: Doctest: running doctests.\n[ Info: ExpandTemplates: expanding markdown templates.\n[ Info: CrossReferences: building cross-references.\n[ Info: CheckDocument: running document checks.\n[ Info: Populate: populating indices.\n[ Info: RenderDocument: rendering document.\n[ Info: HTMLWriter: rendering HTML pages.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"\"\"\"info","category":"page"},{"location":"chapter7/#Step-3:-Display-the-Generated-Documentation-in-the-Browser.","page":"7 - Documenting your module","title":"Step 3: Display the Generated Documentation in the Browser.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"The code in make.jl creates HTML folders and files in docs/build. You can look at the result in your browser.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n1 Open your browser \n2 Ctrl-O Browser command to open a HTML-file.\n3 Select: Home > .julia > dev > Accounts > docs > build > index.html Open index.html.","category":"page"},{"location":"chapter7/#Step-4:-Copy-the-HTML-Code-to-the-Folders-stable-and-dev.","page":"7 - Documenting your module","title":"Step 4: Copy the HTML-Code to the Folders stable and dev.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Often you see the documentation split into stable and dev. As long as you are working on new features, you want to show it only to people who are interested in it. And that is the documentation you put into the dev-folder. When you merge the git branch into the main branch, then you copy it to the stable-folder.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n1 Go to the terminal where you started Atom ~/.jula/dec/Accounts\n2 Go to the docs folder \n3 Execute the following commands: ","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"mkdir dev\n\nmkdir stable\n\ncd ../dev\n\ncp -r ../build/* .","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Step Action Comment\n4 Go to your browser \n5 Ctrl-O \n6 Select: Home > .julia > dev > Accounts > docs > dev > index.html ","category":"page"},{"location":"chapter7/#Exercise-7.1:-Show-the-Documentation-on-the-Web.","page":"7 - Documenting your module","title":"Exercise 7.1: Show the Documentation on the Web.","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"When you have a GitHub website you can show the documentation on the web.","category":"page"},{"location":"chapter7/#Prerequisites-4","page":"7 - Documenting your module","title":"Prerequisites","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"GitHub website: https://<your name>/github.io/","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Steps:","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Update Accounts on GitHub.\nActivate pages for Accounts: Settings > GitHub Pages.\nSelect master in Select branch.\nSelect folder: /docs.\nClick on the Save-button.\nDisplay the documentation in the browser: https://<your name>/github.io/Accounts/stable","category":"page"},{"location":"chapter7/#Exercise-7.2:-Add-Docstrings-to-the-Infrastructure-Methods","page":"7 - Documenting your module","title":"Exercise 7.2: Add Docstrings to the Infrastructure Methods","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Introduction","category":"page"},{"location":"chapter7/#Prerequisites-5","page":"7 - Documenting your module","title":"Prerequisites","text":"","category":"section"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Exercide 7.1","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Steps:","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Paste the following Docstring just above the method add_to_file in Infrastructure.jl.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"\"\"\"\n    add_to_file\n\nStore persons in the datastore.\n\n# Example\n```julia\njulia> using Accounts\n\njulia> const FILE_ACCOUNTS = \"./test_accounts.txt\";\n\njulia> address_email = create(EMAIL, \"donald@duckcity.com\");\n\njulia> donald = create(\"Donald Duck\", [address_email]);\n\njulia> add_to_file(FILE_ACCOUNTS, [donald])\n```\n\"\"\"","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Paste the following Docstring just above the method read_from_file in Infrastructure.jl.","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"\"\"\"\n    read_from_file\n\nGet persons from the datastore.\n\n# Example\n```julia\njulia> using Accounts\n\njulia> const FILE_ACCOUNTS = \"./test_accounts.txt\";\n\njulia> address_email = create(EMAIL, \"donald@duckcity.com\");\n\njulia> donald = create(\"Donald Duck\", [address_email]);\n\njulia> add_to_file(FILE_ACCOUNTS, [donald])\n\njulia> read_from_file(FILE_ACCOUNTS)\n1-element Array{Any,1}:\n Accounts.Domain.Person(\"10973269859630729578\", DateTime(\"2020-09-28T10:41:17.59\"), \"Donald Duck\", Accounts.Domain.Address[Accounts.Domain.Address(\"6678746402434096981\", DateTime(\"2020-09-28T10:41:17.277\"), EMAIL, \"donald@duckcity.com\")])\n```\n\"\"\"","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Create the file Infrastructure.md.\nAdd the following code to the file:","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"# Infrastructure\n\n## add\\_to\\_file\n```@docs\nadd_to_file\n```\n\n## read\\_from\\_file\n```@docs\nread_from_file\n```\n","category":"page"},{"location":"chapter7/","page":"7 - Documenting your module","title":"7 - Documenting your module","text":"Run make.jl.\nInspect the result in your browser.","category":"page"},{"location":"references/#References","page":"References","title":"References","text":"","category":"section"},{"location":"references/#Course-modules","page":"References","title":"Course modules","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"AppliGeneralLedger\nAppliSales\nAppliInvoicing\nAppliMaster","category":"page"},{"location":"references/#Julia","page":"References","title":"Julia","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"Think Julia\nThe Emergent Features of JuliaLang: Part I\nThe Emergent Features of JuliaLang: Part II - Traits\nParallel Computing\nNaelsonDouglas/DistributedMachineLearningThesis\nBlue: a Style Guide for Julia\nPerformance Tips\nJulia Tutorial","category":"page"},{"location":"references/#Julia-Debugging","page":"References","title":"Julia Debugging","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"A Julia interpreter and debugger","category":"page"},{"location":"references/#Julia-Unicode","page":"References","title":"Julia Unicode","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"Unicode Input","category":"page"},{"location":"references/#Julia-Wikibooks","page":"References","title":"Julia Wikibooks","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"Index\nIntroducing Julia/Types\nIntroducing Julia/DataFrames\nIntroducing Julia/Working with dates and times","category":"page"},{"location":"references/#Julia-Machine-Learning","page":"References","title":"Julia Machine Learning","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"Data science for managers: Programming languages\nJulia Machine Learning for Slowpokes","category":"page"},{"location":"references/#Julia-Package-Manger","page":"References","title":"Julia Package Manger","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"A Brief Introduction to Package Management with Julia 1.0\nCreating Packages\nPkg + BinaryBuilder ‚Äì The Next Generation\nOverview popular Julia packages","category":"page"},{"location":"references/#IJulia","page":"References","title":"IJulia","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"Running a notebook server","category":"page"},{"location":"references/#Atom/Juno-Documentation","page":"References","title":"Atom/Juno Documentation","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"Juno Documentation\nFrom zero to Julia! Using Docker\nAuto Cue","category":"page"},{"location":"references/#Docker","page":"References","title":"Docker","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"Dockerize an SSH service\nssh key generation using dockerfile\nMultiple Computer Example\nRunning the \"Real Time Voice Cloning\" project in Docker\nHow To Install Docker On Raspberry Pi","category":"page"},{"location":"references/#Miscellaneous-[This-AI-Clones-Your-Voice-After-Listening-for-5-Seconds](https://www.youtube.com/watch?v0sR1rU3gLzQ-and-t148s)","page":"References","title":"Miscellaneous- This AI Clones Your Voice After Listening for 5 Seconds","text":"","category":"section"},{"location":"references/","page":"References","title":"References","text":"Julia Computing and NVIDIA Bring Julia GPU Computing to Arm\nOptimizing Serial Code","category":"page"},{"location":"blog/#Blog","page":"Blog","title":"Blog","text":"","category":"section"},{"location":"blog/#","page":"Blog","title":"2020","text":"","category":"section"},{"location":"blog/#/09/2020-Solved-the-Triple-Back-Ticks-Problem","page":"Blog","title":"09/09/2020 - Solved the Triple Back Ticks Problem","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"If you want to display (triple back ticks)[https://meta.stackexchange.com/questions/82718/how-do-i-escape-a-backtick-within-in-line-code-in-markdown] in a text block enclose it between four back ticks. I updated chapter 4.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"I aecided to extend section 1 with a chapter about Documenter.jl the reason I searched again for a solution of the back ticks.","category":"page"},{"location":"blog/#/20/2020","page":"Blog","title":"08/20/2020","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Finished section 1 Experimenting with Modules. Reviewed chapters one till six. I did the activities and exercises. Looks good.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"The next step is section 2 The Accounts Receivable Module.","category":"page"},{"location":"blog/#/11/2020","page":"Blog","title":"08/11/2020","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Today, I 'finished' the Accounts.jl module. I am happy that I switched to an easier example of the activities and exercise.","category":"page"},{"location":"blog/#/03/2020","page":"Blog","title":"08/03/2020","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Received my Samsung Portable SSD T5 and installed Ubuntu 20.04 on it. It is very fast.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"I also rewrote the appendix with up-to-date installation instructions. I changed the name Appendix into Installation instructions. See.","category":"page"},{"location":"blog/#/15/2020-Rewrite-the-course","page":"Blog","title":"07/15/2020 - Rewrite the course","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Added documentation to AppliAR. In 4. Example the code that uses Docker containers and actors. Now ready to rewrite the course and incorporate the actors.","category":"page"},{"location":"blog/#/10/2020-Rocket.jl","page":"Blog","title":"07/10/2020 - Rocket.jl","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"I played last week with Rocket.jl, a package where you can work with actors. During the time I worked with Akka and Scala, I became familiar with the idea of actors.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Actors send messages to other actors, which are stored in their mailbox and then processed one by one. The advantage is that the actors are completely separated from each other and can manage their data.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"The results were positive, so I consider to set up the application the way I did with Akka.","category":"page"},{"location":"blog/#/25/2020-Domain,-API,-and-Infrastructure-as-sub-modules","page":"Blog","title":"06/25/2020 - Domain, API, and Infrastructure as sub-modules","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"A sub-module is a defined unit where you define what the input is and what someone else can use. Would it have an advantage to define the Domain, API and Infrastructure shell as a sub module as well?  I implemented it in AppliAR.","category":"page"},{"location":"blog/#/11/2020-Registered-the-packages-AppliSales-and-AppliGeneralLedger","page":"Blog","title":"05/11/2020 - Registered the packages AppliSales and AppliGeneralLedger","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Last Friday, I have registered my first packages at JuliaRegistries/General:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"AppliSales\nAppliGeneralLedger","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"To register the packages you use https://juliahub.com/ui/Packages, using the Registering Packages page. You have to wait for three days before you can add the packages to a project.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"I had to do this because AppliSales and AppliGeneralLedgers are dependencies in AppliAR.jl and I wanted to make use of Travis CI. Travis CI requires that it can add the tests (in runtests.jl) from the official Julia registry.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Now I am considering to partially rewrite the course to incorporate my newly acquired knowledge.","category":"page"},{"location":"blog/#/07/2020-PkgTemplates.jl","page":"Blog","title":"05/07/2020 - PkgTemplates.jl","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"After watching the video Developing Julia Packages I decided to use PkgTemplates.jl as the starting point for package development.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"I created the package AppliAR.jl (AR = Account Receivable) with the code from AppliInvoicing.jl, a name I will replace.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Also, I recreated the supporting packages AppliSales.jl and AppliGeneral.jl.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Overall, I believe that what I learned from using PkgTemplates makes the application more professional. Unfortunately, I have to rewrite parts of the course.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"In AppliMaster.jl you find the files test_local_channels_2.jl and client.jl to test the application.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"# test_local_channels2.jl\n\nusing Pkg\nPkg.activate(\".\")\n\n# remove old stuff\ncmd = `rm test_invoicing.sqlite test_ledger.txt test_journal.txt`\nrun(cmd)\n\n# enable distrbuted computing\nusing Distributed\n@info(\"Enable distributed computing\")\n\n# this should be the next step\nnp = addprocs(4; exeflags=`--project=$(Base.active_project())`)\n#np = addprocs([(\"rob@192.168.2.77:2222\", :auto)]; exeflags=`--project=$(Base.active_project())`)\n@info(\"number of processes is $(length(np))\")\n\n# activate the packages (before the processes are created)\n@everywhere begin\n    using AppliSales\n    using AppliGeneralLedger\n    using AppliAR\nend;\n\n@info(\"Distributed computing enabled\")\n\n# get the tasks and dispatcher\ninclude(\"./api/api.jl\")\n\n# start the dispatcher\nrx = dispatcher()\n@info(\"Dispatcher started\")\n\n# start application remote\ninclude(\"client.jl\")\n\n# display aging report\nusing DataFrames\n\nsleep(10)\nr = DataFrame(report())\nprintln(\"\\nUnpaid invoices\\n============\")\nprintln(r)\n","category":"page"},{"location":"blog/#/17/2010-Using-socket-for-remote-communication","page":"Blog","title":"04/17/2010 - Using socket for remote communication","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"I have defined Task_4 in myfunctions2.jl of AppliMaster. The task listens on port 8000. When data is detected, it is deserialized. The string START will initiate the process. Sending a BankStatement will create the paid invoices.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"First start test_local_channels_2.jl. Then run the next code in a separate Julia session.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"using Sockets\nusing Serialization\nusing AppliGeneralLedger, AppliInvoicing\n\nio = connect(\"<ip target laptop>\", 8000)\n\n# start application\nserialize(io, \"START\")\n\n# send bankstatements\nstms = AppliInvoicing.read_bank_statements(\"./bank.csv\")\nserialize(io, stms)","category":"page"},{"location":"blog/#/27/2020-Extending-Julia-LOAD_PATH","page":"Blog","title":"03/27/2020 - Extending Julia LOAD_PATH","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"II wanted to add a new feature to AppliInvoicing: reporting e.g., an aging report. It should live in a submodule of AppliInvoicing. First, I created a branch dev:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"$ git branch dev\n\n$ git checkout dev\n\n$ atom .","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Next, I created the file Reporting.jl and created a dummy module Reporting:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"module Reporting\n\nconst PATH_DB = \"./invoicing.sqlite\"\n\nusing Dates\n\nusing AppliInvoicing\n\naging() = begin\n    unpaid_invoices = AppliInvoicing.retrieve_unpaid_invoices(PATH_DB)\n    list = []\n    for invoice in unpaid_invoices\n        date = invoice.meta.date\n        println(date, \" - \", Dates.today())\n    end\nend # aging\n\nend # module","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"After that, I added the function report() to api.jl and modified the file AppliInvoicing.jl:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"module AppliInvoicing\n\ngreet() = print(\"Hello World!\")\n\nexport create, process, retrieve_unpaid_invoices, read_bank_statements, report\n\n# first, link to the current model\ninclude(\"./infrastructure/infrastructure.jl\")\n\n# next, submodule Reporting\ninclude(\"Reporting.jl\")\nusing .Reporting: aging\n\nend # module","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"To test the module, I used AppliMaster. I didn't want all the time to upload AppliInvoicing to GitHub, so I extended the Julia LOAD_PATH. After removing the AppliInvoicing package, I added the next line to test_local_channels.jl:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"# define the local path for AppliInvoicing\n@everywhere push!(LOAD_PATH, \"/home/rob/julia-projects/tc/AppliInvoicing\")","category":"page"},{"location":"blog/#/25/2020-Holy-traits-pattern-implemented-in-dispatcher","page":"Blog","title":"03/25/2020 - Holy traits pattern implemented in dispatcher","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"The Holy traits pattern is described in the book Design Patterns and Best Practices with Julia. It can replace if-else constructs. Old situation dispatcher logic. With the new situation, we avoid troubles in the future when we use more Appli-packages. See current infrastructure, 6. Testing the application. The Holy traits pattern makes it more clear:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"# Holy traits pattern definition => can be moved to the domain layer\nabstract type Dispatcher end\nstruct T0 <: Dispatcher end # AppliMaster\nstruct T1 <: Dispatcher end # AppliInvoicing\nstruct T2 <: Dispatcher end # AppliGeneralLedger\nstruct T3 <: Dispatcher end # AppliInvoicing\n\n# the data types on rx-channel\nDispatcher(::Type{<: String}) = T0()\nDispatcher(::Type{<: Array{AppliSales.Order, 1}}) = T1()\nDispatcher(::Type{<: Array{AppliGeneralLedger.JournalEntry,1}}) = T2()\nDispatcher(::Type{<: Array{AppliInvoicing.BankStatement,1}}) = T3()\n# end Trait definition\n\nfunction dispatcher()\n    rx = Channel(32)\n\n    # instantiate tasks\n    tx0 = task_0(rx) # get orders from Sales\n    tx1 = task_1(rx) # process the orders\n    tx2 = task_2(rx) # process the journal entries\n    tx3 = task_3(rx) # process the unpaid invoices\n\n    # implementate Holy traits pattern\n    dispatch(x::T) where {T} = dispatch(Dispatcher(T), x)\n\n    dispatch(::T0, x) = put!(tx0, x)\n    dispatch(::T1, x) = put!(tx1, x)\n    dispatch(::T2, x) = put!(tx2, x)\n    dispatch(::T3, x) = put!(tx3, x)\n\n    @async while true\n        if isready(rx)\n            value = take!(rx)\n            @info(\"Dispatcher received $(typeof(value))\")\n            dispatch(value)\n        else\n            wait(rx)\n        end\n    end\n\n    return rx\nend # dispatcher\n","category":"page"},{"location":"blog/#/20/2020-Design-Patterns-and-Best-Practices-with-Julia","page":"Blog","title":"03/20/2020 - Design Patterns and Best Practices with Julia","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Recently I bought the book Design Patterns and Best Practices with Julia. I can recommend the book. After reading the chapter Modules, Packages, and Data Type Concepts, I decided to set up an abstract data tree, because it can give you a quick overview of your application. The branches are the abstract data types and the leaves the concrete data types. I chose Domain as an abstract root type.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Using the function subtypetree(Domain), I get an excellent overview of the data structure:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"julia> subtypes(Invoice)\n2-element Array{Any,1}:\n PaidInvoice  \n UnpaidInvoice\n\njulia> subtypetree(Domain)\nDomain\n    Invoice\n        PaidInvoice\n        UnpaidInvoice\n    Payment\n        BankStatement\n    Structure\n        BodyItem\n            OpentrainingItem\n        Header\n        MetaInvoice\n\njulia> fieldnames(PaidInvoice)\n(:id, :meta, :header, :body, :stm)\n\njulia> fieldnames(UnpaidInvoice)\n(:id, :meta, :header, :body)","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"See the Invoicing module documentation for more details.","category":"page"},{"location":"blog/#/12/2020-Relative-mark-down-links","page":"Blog","title":"03/12/2020 - Relative mark down links","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Chapter 11 was not updated. I also got a message Page build failure.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"The solution was to use relative links to switch between pages, e.g. ../chapter10/#.-Create-a-Dockerfile-in-the-folder-test_ssh-1.","category":"page"},{"location":"blog/#/11/2020-Pages.jl-and-HTTP.jl","page":"Blog","title":"03/11/2020 - Pages.jl and HTTP.jl","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"I did some tests with Pages.jl and HHTP.jl, The result is promising. The solution is to send a file name over an Http connection and use scp to retrieve the file from the Raspberry Pi for further processing.","category":"page"},{"location":"blog/#The-test","page":"Blog","title":"The test","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Julia 1.3.1 running on my laptop in a Ubuntu docker container as server. The variable result will contain the file name:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"julia> using Pages\n\njulia> using JSON\n\njulia> @async Pages.start()\nTask (runnable) @0x00007fb2c0ee3340\n\njulia> result = \"\"\n\"\"\n\njulia> Endpoint(\"/test\", POST) do request::HTTP.Request\n           data = String(request.body)\n           global result = data\n           response = JSON.json(Dict(:data => data))\n       end\nEndpoint(Dict{Symbol,HTTP.Handlers.RequestHandlerFunction}(:POST => HTTP.Handlers.RequestHandlerFunction{var\"#11#12\"}(var\"#11#12\"())), \"/test\")","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Julia 1.3.1 running on my Raspberry Pi in a Ubuntu docker container as client:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"julia> using HTTP\n\njulia> r = HTTP.request(\"POST\", \"http://xxx.xxx.xxx.xxxxxxx:8000/test\", [], \"12345.jpg\")\nHTTP.Messages.Response:\n\"\"\"\nHTTP/1.1 200 OK\nTransfer-Encoding: chunked\n\n{\"data\":\"12345.jpg\"}\"\"\"","category":"page"},{"location":"blog/#/10/2020-SQLite-problem-Raspberry-Pi","page":"Blog","title":"03/10/2020 - SQLite problem Raspberry Pi","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"There is a problem with making a connection from a docker container on my Ubuntu laptop to a container on a Raspberry Pi 3+. I posted a question on  discourse.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"See Addprocs gives connection refused to a docker container on raspberry pi","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Now I consider using HTTP.jl (or Pages.jl) to inform the application to retrieve an image from my Raspi with scp.","category":"page"},{"location":"blog/#/04/2020-Documentation-AppliInvoicing-module","page":"Blog","title":"03/04/2020 - Documentation AppliInvoicing module","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"I have completed the documentation for ApplInvoicing.jl","category":"page"},{"location":"blog/#/03/2020-2","page":"Blog","title":"03/03/2020","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Created documentation for the module AppliGeneralLedger.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Master code runs successfully in a Docker container.","category":"page"},{"location":"blog/#/27/2020-dispatcher-is-working","page":"Blog","title":"02/27/2020 - dispatcher is working","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"SQLite gave problems with AppliGeneralLedger. I suspected it had something to do with multi-user issues. So I decided to experiment with Jula's open/read/write file functions.  The result was very positive, so I changed the code in AppliGeneralLedger.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"The test with remote channels went well. AppliMaster contains the code.","category":"page"},{"location":"blog/#/20/2020-addproc(4)","page":"Blog","title":"02/20/2020 - addproc(4)","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"In the past, I used Julia v1.1.0 and SQLite v0.8.x. I use a local channel with a dispatcher. It routes the data to the right task, which runs a Julia function remote. The application ran smoothly. The problem started when I switched to SQLite.jl v1.0.1. First, I thought that SQLite was causing the problem. However, the sample code uses only the AppliSales module, which doesn‚Äôt use SQLite.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"I posted the problem on discourse.julialang.org: Distributed computing, not found package error. @pfitzseb gave the solution:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Try","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"addprocs(n_procs; exeflags=`--project=$(Base.active_project())`)","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"instead ‚Äì the currently active environment doesn‚Äôt propagate to processes started by addprocs by default.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Now the application runs smoothly again. Thank you, `@pfitzseb.","category":"page"},{"location":"blog/#/07/2020","page":"Blog","title":"02/07/2020","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Chapter 4, 5 en 6 are ready for a final check.","category":"page"},{"location":"blog/#/05/2020","page":"Blog","title":"02/05/2020","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"While working on the AppliMaster module, I got yesterday the impression that I should always be working with the local package repository, ] active .:","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Adding packages will update Project.toml, the file with the dependencies, and update the local Manifest.toml file. When you delete Manifest.toml, you have to add the packages again.\nWhen cloning a project works without adding the packages again.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"So I removed AppliInvoicing, AppliGeneralLedger, and AppliSales from the general repository. This morning I started AppliMaster in Atom. My code in test_remote_channels.jl didn't work anymore. The two Databases invoicing.sqlite and ledger.sqlite were not created.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"I added the packages AppliInvoicing, AppliGeneralLedger, and AppliSales again to the general repository, and my code was running well. The only explanation I could think of: remote code only looks at the general repository.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"I need to review the documentation on this subject.","category":"page"},{"location":"blog/#/02/2020","page":"Blog","title":"02/02/2020","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"The pages test_remote_channels.jl and myfunctions.jl, I have embellished with @info. The flow of the data has now become more explicit. The code is on github: test_remote_channels.jl.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Working with channels runs smoothly. I only run the functions that perform the operations on a different core. The while true loops for task_1 and task_2 tasks run locally. Should I also run these loops remotely?","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"So I had to renumber the subsequent chapters.","category":"page"},{"location":"blog/#/01/2020","page":"Blog","title":"02/01/2020","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Today I copied the blog from the AppliGate website to The course environment.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Things are going well with the course. The following modules are now ready(!):","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"AppliMaster - the basic module.\nAppliInvoicing - the application itself.\nAppliSales - sending test orders to AppliInvoicing.\nAppliGeneralLedger - to process journal entries from AppliInvoicing.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"In the last couple of weeks, I have been experimenting with the communication between the different parts. For the time being, I decided to work with Julia's channels. The implementation is in AppliMaster, testremotechannels.jl.","category":"page"},{"location":"blog/#-2","page":"Blog","title":"2019","text":"","category":"section"},{"location":"blog/#/05/2019","page":"Blog","title":"12/05/2019","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Last week I managed to establish an SSH connection between two containers. This week I could finish Chapter 9, Create the Container, more or less. The next step is to test a channel connection between two containers.","category":"page"},{"location":"blog/#/15/2019","page":"Blog","title":"11/15/2019","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Almost ready to link www.appligate.nl to rbontekoe.github.io. We have to change the CNAME record at the provider from appligate.appspot.com to rbontekoe.github.io.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"We also started with writing the course material for the online training BAWJ.","category":"page"},{"location":"blog/#/21/2019","page":"Blog","title":"10/21/2019","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Why not build a website with Documenter.jl? We did it today. When you go to AppliGate, you enter our new site. In the meantime, we got more experience with Julia. E.g., we resized Rob's picture with Images.jl. It was straightforward.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"julia> using Images\n\njulia> img = load(\"rob.png\")\n\njulia> img2 = imresize(img, ratio=0.5)\n\njulia> save(\"rob2.png\", img2)","category":"page"},{"location":"blog/#/17/2019","page":"Blog","title":"9/17/2019","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Reading Think Julia I discovered the package Serialization. While playing with it, I realized that it could solve my CQRS and Event Sourcing problem. With the method serialize, you can create a text representation of an object, that you can store. With deserialize, you do the reverse. Serialize writes to an IOStream, and deserialize reads from it. An IOStream can be an IOBuffer or a file. It makes Event Sourcing easier.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"I also looked at channels. You can use channels to communicate between processes. For the time being, I will use inter CPU-core communication. Later on, I extend it to remote nodes. I only have to expand the methods of createSubscriber and createPublisher.","category":"page"},{"location":"blog/#/10/2019","page":"Blog","title":"9/10/2019","text":"","category":"section"},{"location":"blog/","page":"Blog","title":"Blog","text":"Last week I was busy implementing the database methods. I realized that the domain objects I wanted to keep must have an identification code. So Subscriber, Publisher, and Message got an id. To create the id, I used the hash function with a name and time as a parameter. It had consequences for the documentation. In the example code, I used the tag 'jldoctest,' so Documenter could test the example code during the generation of the manual. Because the ids keep changing, I had to give up. Too bad, because I found that a strong point of Documenter.jl. I replaced the test tag 'jldoctest' with the language tag 'julia.' Maybe there is something to do against continually changing values.","category":"page"},{"location":"blog/","page":"Blog","title":"Blog","text":"Infected by the CQRS thought, I decided to add changed domain objects to the database instead of modifying an existing record.","category":"page"},{"location":"chapter1/#.-The-Application","page":"1 - The Application","title":"1. The Application","text":"","category":"section"},{"location":"chapter1/#The-Application-Architecture","page":"1 - The Application","title":"The Application Architecture","text":"","category":"section"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"Before we will look at the module AppliAR.jl we begin with building the module Accounts in chapter 2 to gain some experience.","category":"page"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"AR is short for Accounts Receivable. We test the module with two supporting packages: AppliSales.jl and AppliGeneralLedger.jl.","category":"page"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"The application architecture is based on the actor model. The article The actor model in 10 minutes explains the model very well. The link comes from the Rocket.jl documentation, the package we use to test our AppliAR.jl module.","category":"page"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"                           StmActor\n                              ‚îÇ\n                              ‚îÇ BankStatement(s)\n                              ÀÖ       \n       SalesActor ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> ARActor ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> GLActor\n                  Order(s)    ‚áµ    Entry(s)    ‚áµ\n                            Store            Store","category":"page"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"Fig 1.1 The application architecture.","category":"page"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"The SalesActor uses the AppliSales package to send the orders to the ARActor.\nThe StmActor reads a CSV file with bank statements and sends them to the ARActor.\nThe ARActor (Accounts Receivable) uses the AppliAR.jl module to process orders and bank statements and sends journal entries to the GLActor.\nGLActor uses the AppliGeneralLedger package and turns journal entries into general ledger statements.","category":"page"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"I use the word package for an official registered Julia module.","category":"page"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"A module is Julia code with a clearly defined boundary. We use the onion architecture to achieve it. The peels Domain, API, and Infrastructure are defined as sub-modules.","category":"page"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"The example on AppliAR.jl page shows the case with docker containers.","category":"page"},{"location":"chapter1/","page":"1 - The Application","title":"1 - The Application","text":"Before we discuss the application, you can gain some experience with building a module called Accounts.","category":"page"},{"location":"chapter13/#.-Creating-SSH-Enabled-Containers","page":"13 - Creating SSH Enabled Containers","title":"13. Creating SSH Enabled Containers","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter13/#Contents","page":"13 - Creating SSH Enabled Containers","title":"Contents","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Pages = [\"chapter13.md\"]","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"The article Dockerize an SSH service uses Ubuntu 16.04 as the base image. However, Julia 1.0 and higher needs Ubuntu 18.04, so we have changed the Dockerfile. This version of Ubuntu also requires that you create a user with administrator rights when you use SSH to connect.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"You also learn to install Julia in the container.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"To make use of passwordless connections between containers, you also learn to create SSH keys.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"In the next chapter, we will show you how to create containers on a Raspberry Pi 3B. I have another project running where I communicate with a Raspberry Pi to transfer images to my laptop.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"See also the Pact book Julia 1.0 Programming: Installing Julia from binaries","category":"page"},{"location":"chapter13/#Activity-13.1:-Create-local-SSH-keys","page":"13 - Creating SSH Enabled Containers","title":"Activity 13.1: Create local SSH keys","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Prerequisites:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Your system has Ubuntu 18.04 that runs on an Intel x86 processor.\nYou have started your computer.\nYou haven't created the keys before.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Steps:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Check previous created keys.\nCreate local SSH keys.","category":"page"},{"location":"chapter13/#Step-1:-Check-previous-created-keys","page":"13 - Creating SSH Enabled Containers","title":"Step 1: Check previous created keys","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n1 $ ls -l .ssh ","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Response","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"ls: cannot access '.ssh': No such file or directory","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"You haven't created the key before, go to step 2.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"total 16\n-rw-r--r-- 1 root root  107 nov 13 10:57 config\n-rw------- 1 rob  rob  3247 okt 16 15:04 id_rsa\n-rw-r--r-- 1 rob  rob   748 okt 16 15:04 id_rsa.pub\n-rw-r--r-- 1 rob  rob   444 dec  3 14:59 known_hosts","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"You have created the keys before, no further action is required. The file id_rsa.pub contains your public key. Later on, we will create a copy of it in the SSH enabled container.","category":"page"},{"location":"chapter13/#Step-2:-Create-local-SSH-keys-on-your-computer","page":"13 - Creating SSH Enabled Containers","title":"Step 2: Create local SSH keys on your computer","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n1 $ sudo apt-get update \n2 $ sudo apt-get install openssh-client Install ssh client on Ubuntu.\n3 $ ls -al ~/.ssh/id_*.pub View old keys.\n4 $ ssh-keygen -t rsa -b 4096 -C \"your_email@domain.com\" Generate the key.\n5 $ ls ~/.ssh/id_* View your new keys.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"See SSH Connection Refused (Causes & Solutions)","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n6 $ chmod 700 ~/.ssh Change right the folder .ssh\n7 $ chmod 600 ~/.ssh/authorized_keys Change right of the file authorized_keys","category":"page"},{"location":"chapter13/#Activity-13.2:-Create-the-Container","page":"13 - Creating SSH Enabled Containers","title":"Activity 13.2: Create the Container","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Prerequisites:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Your system has Ubuntu 18.04 that runs on an Intel x86 processor.\nYou have started your computer.\nYou have installed Docker (See appendix).","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Steps:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Create a Dockerfile in the folder test_sshd.\nCreate a Docker image eg_ssdh and the container test_sshd.\nCreate a user rob, who has administrator rights.","category":"page"},{"location":"chapter13/#The-Dockerfile","page":"13 - Creating SSH Enabled Containers","title":"The Dockerfile","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"FROM ubuntu:18.04\n\nRUN apt-get update && apt-get install -y openssh-server\nRUN mkdir /var/run/sshd\nRUN sed -i 's/PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config\n\n# SSH login fix. Otherwise user is kicked off after login\nRUN sed 's@session\\s*required\\s*pam_loginuid.so@session optional pam_loginuid.so@g' -i /etc/pam.d/sshd\n\nENV NOTVISIBLE \"in users profile\"\nRUN echo \"export VISIBLE=now\" >> /etc/profile\n\nEXPOSE 22\nCMD [\"/usr/sbin/sshd\", \"-D\"]","category":"page"},{"location":"chapter13/#Step-1:-Create-a-Dockerfile-in-the-folder-test_ssh","page":"13 - Creating SSH Enabled Containers","title":"Step 1: Create a Dockerfile in the folder test_ssh","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n2 $ sudo mkdir test-ssh Create a new folder.\n3 $ cd test-ssh Go to the folder.\n4 Select the content of the Dockerfile above \n5 Ctrl-C Copy the selected text to the clipboard.\n6 $ nano Dockerfile Create a new empty file.\n7 Shift-Ctrl-V Paste text from the clipboard into nano.\n8 Ctrl-O <Enter> Save the file.\n9 Ctrl-X Exit nano.","category":"page"},{"location":"chapter13/#Step-2:-Create-a-Docker-image-eg_sshd-and-the-container-test_sshd","page":"13 - Creating SSH Enabled Containers","title":"Step 2: Create a Docker image eg_sshd and the container test_sshd","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n1 $ docker build -t eg_sshd . Create a Docker image from the Dockerfile\n2 $ docker run -d -p 2222:22 --name test_sshd eg_sshd Create a container\n3 $ docker exec -it test_sshd bash Enter the container\n4 Ctrl-D Leave the container.","category":"page"},{"location":"chapter13/#Step-3:-Create-a-user-rob,-who-has-administrator-rights","page":"13 - Creating SSH Enabled Containers","title":"Step 3: Create a user rob, who has administrator rights","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n1 $ docker exec -it test_sshd bash Enter the container\n2 # adduser rob You get the next response:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Adding user `rob' ...\nAdding new group `rob' (1000) ...\nAdding new user `rob' (1000) with group `rob' ...\nThe home directory `/home/rob' already exists.  Not copying from `/etc/skel'.\nadduser: Warning: The home directory `/home/rob' does not belong to the user you are currently creating.\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: password updated successfully\nChanging the user information for rob\nEnter the new value, or press ENTER for the default\n\tFull Name []: Rob Bontekoe\n\tRoom Number []:\n\tWork Phone []:\n\tHome Phone []:\n\tOther []:\nIs the information correct? [Y/n] Y","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"note: Note\nYou are asked to give the user rob a password. The password you will use in the future for the SSH connection to the container, so write it down. You need it the first time when you want to enable passwordless communication. From Ubuntu 18.04 on, you don't know the roots' password anymore. That is the reason we had to create a user with administrator rights for SSH connections.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n3 # usermod -aG sudo rob Give user administrator rights.\n4 # apt-get install sudo You act as root when you precede your commands with sudo. It is not installed yet in this minimized container.\n5 # su rob Switch to the user rob\n To run a command as administrator (user \"root\"), use \"sudo <command>\". \\nSee \"man sudo_root\" for details. \n5 Ctrl-D Back as root user.\n6 Ctrl-D Leave the container.","category":"page"},{"location":"chapter13/#Important-steps?","page":"13 - Creating SSH Enabled Containers","title":"Important steps?","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n6 $ chmod 700 ~/.ssh Change right the folder .ssh\n7 $ chmod 600 ~/.ssh/authorized_keys Change right of the file authorized_keys","category":"page"},{"location":"chapter13/#Activity-13.3:-Install-Julia","page":"13 - Creating SSH Enabled Containers","title":"Activity 13.3: Install Julia","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Prerequisites:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Your system has Ubuntu 18.04 running on the Intel x86 processor.\nThe container test_sshd exists.\nThe container has the user rob, who has administrators (sudo) rights.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Activity:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Download the Julia binary and copy it to the container.\nInstall Julia and test the installation.\nCreate a symbolic link to start Julia from everywhere.","category":"page"},{"location":"chapter13/#Step-1:-Download-the-Julia-binary-and-copy-it-to-the-container","page":"13 - Creating SSH Enabled Containers","title":"Step 1: Download the Julia binary and copy it to the container","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n1 Download Julia eg. julia-1.3.0-linux-x86_64.tar.gz\n2 $ docker ps -a Check whether container test_ssh exists.\n2 $ docker start test_sshd Start the container.\n3 $ docker cp julia-1.3.0-linux-x86_64.tar.gz test_sshd:/home/rob Copy the downloaded file to the container.\n4 $ docker exec -it test_sshd bash Enter the container.\n5 $ su rob Switch to user rob.\n6 $ cd ~ Go to home directory.\n7 $ ls You see the file julia-1.3.0-linux-x86_64.tar.gz","category":"page"},{"location":"chapter13/#Step-2:-Install-Julia-and-test-the-installation","page":"13 - Creating SSH Enabled Containers","title":"Step 2: Install Julia and test the installation","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n1 $ mkdir julia Create folder julia. OS asks for yur password.\n2 $ mv julia-1.3.0-linux-x86_64.tar.gz julia Move file to folder.\n3 $ cd julia Enter folder\n4 $ tar -zxvf julia-1.3.0-linux-x86_64.tar.gz Extract the file.\n5 $ ls List the content of the folder.\n6 julia-1.3.0  julia-1.3.0-linux-x86_64.tar.gz \n7 $ cd julia-1.3.0/bin/ We will test Julia.\n8 $ sudo ./julia Start Julia. You get the next response:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"   _       _ _(_)_     |  Documentation: https://docs.julialang.org\n  (_)     | (_) (_)    |\n   _ _   _| |_  __ _   |  Type \"?\" for help, \"]?\" for Pkg help.\n  | | | | | | |/ _` |  |\n  | | |_| | | | (_| |  |  Version 1.3.0 (2019-11-26)\n _/ |\\__'_|_|_|\\__'_|  |  Official https://julialang.org/ release\n|__/                   |\n\njulia>","category":"page"},{"location":"chapter13/#Step-3:-Create-a-symbolic-link-to-start-Julia-from-anywhere","page":"13 - Creating SSH Enabled Containers","title":"Step 3: Create a symbolic link to start Julia from anywhere","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n1 Ctrl-D Leave Julia.\n2 cd ~ To home directory.\n3 $ sudo ln -s /home/rob/julia/julia-1.3.0/bin/julia /usr/local/bin/julia Create link.\n4 $ julia Start Julia.","category":"page"},{"location":"chapter13/#Activity-13.4:-Test-the-container.","page":"13 - Creating SSH Enabled Containers","title":"Activity 13.4: Test the container.","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Prerequisites:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"You have an SSH enabled container.\nYou have created the SSH authorized_keys See.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Steps:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Copy your public key to the container.\nTest the SSH connection with the container.","category":"page"},{"location":"chapter13/#Step-1:-Copy-your-public-key-to-the-container","page":"13 - Creating SSH Enabled Containers","title":"Step 1: Copy your public key to the container","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n1 $ docker ps Check whether the container is already running.\n2 $ docker start test_sshd Start the container if not running.\n3 $ docker port test_sshd 22 Find the port number\n 0.0.0.0:32768 Port number is 32768.\n4 $ ssh-copy-id  rob@localhost -p 32769 Copy file to container\n5 $ ssh rob@localhost -p 32768 Connect to the container.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Enter y, and continue.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"The authenticity of host '[localhost]:32768 ([127.0.0.1]:32768)' can't be established.\nECDSA key fingerprint is SHA256:lix3DGk69mhTnPlb0WE70syuDWVh59XL3az/4UJDInc.\nAre you sure you want to continue connecting (yes/no)? yes","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Type your password.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\nrob@localhost's password:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Then some instructions.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Number of key(s) added: 1\n\nNow try logging into the machine, with:   \"ssh -p '32769' 'rob@localhost'\"\nand check to make sure that only the key(s) you wanted were added","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"info: Info\nYour keys are stored in the folder /etc/ssh/.","category":"page"},{"location":"chapter13/#Step-2:-Test-the-SSH-connection-with-the-container.","page":"13 - Creating SSH Enabled Containers","title":"Step 2: Test the SSH connection with the container.","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Step Action Comment\n1 ssh rob@localhost -p 32768 You get the next response:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Welcome to Ubuntu 18.04.3 LTS (GNU/Linux 5.0.0-37-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\nThis system has been minimized by removing packages and content that are\nnot required on a system that users do not log into.\n\nTo restore this content, you can run the 'unminimize' command.\nLast login: Thu Dec  5 12:16:21 2019 from 172.17.0.1\nrob@13304c03391d:~$","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"info: Info\nYou can also work with the docker network address.docker inspect test_sshd | grep \"IPAddress\"The response is:\"SecondaryIPAddresses\": null,\n\"IPAddress\": \"172.17.0.2\",\n        \"IPAddress\": \"172.17.0.2\",You can also use:ssh rob@172.17.0.2","category":"page"},{"location":"chapter13/#Exercise-13.1:-Create-a-Second-Container","page":"13 - Creating SSH Enabled Containers","title":"Exercise 13.1: Create a Second Container","text":"","category":"section"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"Create a second container test_sshd2:","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"You don't have to create the keys again!\nUse the same image eg_sshd.\nCheck the port number of test_sshd2.\nName of the administrative user can be kept the same: rob.","category":"page"},{"location":"chapter13/","page":"13 - Creating SSH Enabled Containers","title":"13 - Creating SSH Enabled Containers","text":"We will use both containers in chapter 14.","category":"page"},{"location":"chapter4/#.-Create-and-Test-API.jl","page":"4 - Create and Test API.jl","title":"4. Create and Test API.jl","text":"","category":"section"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"In this chapter, you define the functions that one can use to write a software program using our module Accounts.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"In this case, it is the function create that one use to create:","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"an address.\na person.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"Julia's functions are dispatch-able. Julia looks for the right method based on the number of arguments and their data-types.","category":"page"},{"location":"chapter4/#Contents","page":"4 - Create and Test API.jl","title":"Contents","text":"","category":"section"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"Pages = [\"chapter4.md\"]","category":"page"},{"location":"chapter4/#API.jl","page":"4 - Create and Test API.jl","title":"API.jl","text":"","category":"section"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"module API #1\n\nimport ..Accounts: Domain #2\n\nusing .Domain #3\n\nexport create #4\n\n\"\"\"\n    create(address_type::AddressType, address::String)::Address\n    create(name::String, addresses::Array{Address,1})::Person\n    create(name::String)::Person\n\nCreate an Address or a Person object.\n\n# Example\n```julia\njulia> using Accounts\n\njulia> address_email = create(EMAIL, \"donald@duckcity.com\");\n\njulia> donald = create(\"Donald Duck\", [address_email]);\n\njulia> donald.id\n\"14456927583164318539\"\n\njulia> donald.created\n2020-09-28T10:56:29.997\n\njulia> donald.name\n\"Donald Duck\"\n\njulia> donald.addresses\n1-element Array{Accounts.Domain.Address,1}:\n Accounts.Domain.Address(\"7763679977726623090\", Dates.DateTime(\"2020-09-28T10:56:29.461\"), EMAIL, \"donald@duckcity.com\")\n```\n\"\"\"\nfunction create end #5\n\ncreate(address_type::AddressType, address::String)::Address = Address(address_type, address) #6\n\ncreate(name::String, addresses::Array{Address,1})::Person = Person(name, addresses) #7\n\ncreate(name::String)::Person = Person(name) #8\n\nend","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"#1 The module name is API.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"#2 The API sub-module uses only the functions and types that are defined in the sub-module Domain, Julia, and any loaded packages. ..Accounts refers to the main-module of API. import ..Accounts: Domain give us a reference to the sub-module Domain, we can load in the next statement.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"#3 The code loads the sub-module Domain (using .Domain). The dot tells Julia that Domain is a sub-module. Julia loads all exported elements of Domain (Person, Address, AddressType, EMAIL, and WORK) into the scope of users code because we specify using. If we would use import instead of using, we also have to mention the module name (e.g. Domain.EMAIL).","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"Now, we can call them without mentioning the name of the sub-module. Julia warns if conflicts arise. In that case you use the naming as in import.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"#4 We export the create methods. It means that other modules and programs can use them directly unless it conflicts with similar names.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"#5 Here, we document the different use cases (methods) of the function create. One calls it multiple dispatch and it can be compared to overloading in Object-Oriented programming languages.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"The methods must be indented and their signatures must be different. A signature is determined by the number of arguments and their data-types.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"When users type a question mark followed by the function-name (? create) then Julia displays the text and the example. Run the example code by pasting it into the REPL, including the julia>-prompts.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"#6 The method create when we want to create an Address. (address_type::AddressType, address::String) is its signature.  Address(address_type, address) is the constructor of the data-type Address that we have defined in Domain.jl.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"#7 The method create when we want to create a Person with one or more addresses. addresses::Array{Address,1} specifies that the argument must be a one-dimensional array with Address objects.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"#8 This line creates a Person with an empty Address array. Although the object Person is not mutable, we can still add elements to the array. For example push!(donald.addresses, <Address object>).","category":"page"},{"location":"chapter4/#Accounts.jl","page":"4 - Create and Test API.jl","title":"Accounts.jl","text":"","category":"section"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"The main module Accounts.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"module Accounts\n\n#export EMAIL, WORK # Domain\n#export create # API\n\ninclude(\"Domain.jl\"); using .Domain # load the module Domain\ninclude(\"API.jl\"); using .API # load the module API\n\nend","category":"page"},{"location":"chapter4/#test_api.jl","page":"4 - Create and Test API.jl","title":"test_api.jl","text":"","category":"section"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"using Pkg; Pkg.activate(\".\") # make the current folder the working environment\n\nimport Accounts: Domain, API # import the sub-modules Domain and API\n\nusing .Domain, .API # load the sub-modules Domain and API\n\ndonald_email = create(EMAIL, \"donald@duckcity.com\") # create an address object\n\ndonald_work = create(WORK, # create another addresses object\n  \"\"\"\n  Donalds Hardware Store\n  attn. Donald Duck\n  1190 Seven Seas Dr\n  FL 32830 Lake Buena Vista\n  USA\n  \"\"\"\n)\n\naddresses = [donald_email, donald_work] # create an array with addresses\n\ndonald = create(\"Donald Duck\", addresses) # create a person\n\nprintln(donald) # print the data of the person to the console.","category":"page"},{"location":"chapter4/#runtests.jl","page":"4 - Create and Test API.jl","title":"runtests.jl","text":"","category":"section"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"using Accounts # load the module Accounts\nusing Test # Test provides the macros @testset and @test\n\nimport Accounts: Domain, API\nusing .Domain, .API\n\n@testset \"Domain.jl\" begin\n    donald_email = Address(EMAIL, \"donald@duckcity.com\")\n    donald = Person(\"Donald duck\", [donald_email])\n    email_addresses = filter(x -> x.address_type == EMAIL, donald.addresses) #1\n    @test email_addresses[1].address == \"donald@duckcity.com\"\nend\n\n@testset \"API.jl\" begin\n    donald_email = Address(EMAIL, \"donald@duckcity.com\")\n    donald = Person(\"Donald Duck\", [donald_email])\n    email_addresses = filter(x -> x.address_type == EMAIL, donald.addresses) #1\n    @test email_addresses[1].address == \"donald@duckcity.com\"\nend","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"#1 The function filter operates on a collection (Array) of Address's and returns an new filtered collection. The first argument x -> x.address_type == EMAIL represents an anonymous function. x is a consecutive value from the Array. If the test x.address_type == EMAIL yields a true the function adds the Address to the new collection.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"Similar high order functions are map, reduce, and zip.","category":"page"},{"location":"chapter4/#Exercise-4.1:-Adding-the-Sub-module-API.","page":"4 - Create and Test API.jl","title":"Exercise 4.1: Adding the Sub-module API.","text":"","category":"section"},{"location":"chapter4/#Prerequisites","page":"4 - Create and Test API.jl","title":"Prerequisites","text":"","category":"section"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"Previous activities.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"In this exercise you create the sub-module API. You can apply everything you've learned so far.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"Create the file API.jl and add the code of section API.jl to the file. Change the five back-tics into three back-tics. Remove the comments.\nCopy the code of section runtests.jl to the file runtests.jl.\nModify  Accounts.jl according to section Accounts.jl.\nCreate the file test_api.jl and paste the code of section test_api.jl into it. Test the code.\nGo to the package manager, activate the Accounts module (]activate .) and run the tests (test Accounts). You should see:","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"Test Summary: | Pass  Total\nDomain.jl     |    1      1\nTest Summary: | Pass  Total\nAPI.jl        |    1      1\n    Testing Accounts tests passed","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"Return to the julia-prompt and type: ? create. The help text of the function create is displayed.","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"help?> create\nsearch: create searchsortedlast\n\n  create(address_type::AddressType, address::String)::Address\n  create(name::String, addresses::Array{Address,1})::Person\n  create(name::String)::Person\n\n  Create an Address or a Person object.\n\n  Example\n  ‚â°‚â°‚â°‚â°‚â°‚â°‚â°‚â°‚â°\n\n  julia> address_email = create(EMAIL, \"donald@duckcity.com\")\n\n  julia> donald = create(\"Donald Duck\", [address_email])","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"Push the changes to your GitHub repository. Check the changes on GitHub.\nGo to the Accounts folder cd ~/.julia/dev/Accounts and and type git log --oneline. You sloud see:","category":"page"},{"location":"chapter4/","page":"4 - Create and Test API.jl","title":"4 - Create and Test API.jl","text":"~/.julia/dev/Accounts$ git log --oneline\n3b1af29 (HEAD -> master) Add API.jl sub-module\nc76901f (origin/master) Add Domain.jl sub-module\n0cf05da Files generated by PkgTemplates\n82338c3 Initial commit","category":"page"},{"location":"appendix/#Appendix","page":"Installation Instruction","title":"Appendix","text":"","category":"section"},{"location":"appendix/#Introduction","page":"Installation Instruction","title":"Introduction","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"I have a Lenovo Legion Y520 Windows 10 laptop with Ubuntu 20.04 installed on a Samsung portable SSD T5 disk. I start my machine from this disk.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"All installation instructions in this course are based on Ubuntu.","category":"page"},{"location":"appendix/#Install-Julia","page":"Installation Instruction","title":"Install Julia","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Prerequisites","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Your computer OS is Ubuntu 20.04 64 bit.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action Comment\n1 Download Julia Click on the link and find the row Generic Linux Binaries for x86. Click on 64-bit. Download the file eg. julia-1.5.0-rc2-linux-x86_64.tar.gz\n2 Ctrl+Alt-T Open a terminal window.\n2 $ mkdir julia Create a folder\n3 $ cd julia Enter folder\n4 $ mv ~/Downloads/julia-1.5.0-rc2-linux-x86_64.tar.gz . Move the downloaded file to folder julia.\n5 $ tar -zxvf jjulia-1.5.0-rc2-linux-x86_64.tar.gz Extract the file.\n6 $ sudo ln -s /home/rob/julia-1.5.0-rc2-linux-x86_64.tar.gz /usr/local/bin/julia Create a symbolic link.\n7 $ julia Start Julia.\n8 Ctrl-D Close Julia.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"info: Info\nYou can remove a symbolic link with: rm julia.","category":"page"},{"location":"appendix/#Install-Git","page":"Installation Instruction","title":"Install Git","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Prerequisites","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Your computer OS is Ubuntu 20.04 64 bit.\nYou preferably have a GitHub account.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action Comment\n1 sudo apt install git \n2 git config ‚Äìglobal user.email \"<your email address>\" \n3 git config ‚Äìglobal user.name \"<your first and last name>\" E.g. \"Rob Bontekoe\"\n4 git config ‚Äìglobal github.user \"<yout git hub name>\" E.g. \"rbontekoe\"\n5 cat .gitconfig Show your git data.","category":"page"},{"location":"appendix/#Install-Atom","page":"Installation Instruction","title":"Install Atom","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Prerequisites","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Your computer OS is Ubuntu 20.04 64 bit.\nYou have installed Julia.\nYou have installed Git.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"See also: http://docs.junolab.org/stable/man/installation/","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action Comment\n1 goto https://atom.io/ \n2 select Download .deb \n4 cd ~/Downloads/ \n5 sudo apt install ./atom-amd64.deb ","category":"page"},{"location":"appendix/#Install-Juno","page":"Installation Instruction","title":"Install Juno","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Prerequisites","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Your computer OS is Ubuntu 20.04 64 bit.\nYou have installed Julia.\nYou have installed Git\nYou have installed Atom.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action Comment\n1 mkdir projects \n2 cd projects \n3 atom <Enter> Start Atom.\n4 Ctrl-, Open settings.\n5 Select: Packages \n6 Type: uber-juno In field under Installed packages.\n7 Click on the button: install Juno will be installed, can take a while.\n8 Close Atom \n9 atom . Start atom again with current directory as default.\n10 Select from menu: Juno Juno menu opens.\n11 Select: Open REPL Julia will be started.\n12 1 + 2 <Enter> Result of addition will be shown in the REPL.\n13 Select from menu: File \n14 Select: New file \n15 Type: println(\"Hello world!\") \n16 Shift-Enter Hello world! will be shown in the file after the statement.\n17 Ctrl-S The file can be saved.","category":"page"},{"location":"appendix/#Install-IJulia","page":"Installation Instruction","title":"Install IJulia","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Prerequisites","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Julia 1.0+ has been installed.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action Comment\n1 julia Start Julia.\n2 ] Activate package manager.\n3 add IJulia Install package.\n4 BackSpace Back to the julia prompt.\n5 using IJulia Load package.\n6 notebook(detached=true, dir=\".\") Start IJulia.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Only the first time you get the next question:","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"install Jupyter via Conda, y/n? [y]:","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Type: y <Enter>","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Your browser window opens.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action Comment\n7 Select: New > Julia 1.5.0-rc2 Create a new Julia notebook.\n8 Type: 1 + 2 Enter a formula in a cell.\n9 Shift-Enter Execute formula. The result 3 will be shown.","category":"page"},{"location":"appendix/#Install-Docker","page":"Installation Instruction","title":"Install Docker","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Prerequisites","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Your computer OS is Ubuntu 18.04 or higher.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action Comment\n1 sudo apt-get update Update Software Repositories.\n2 sudo apt-get remove docker docker-engine docker.io Uninstall Old Versions of Docker\n3 sudo apt install docker.io Install Docker\n4 sudo systemctl start docker \n5 sudo systemctl enable docker \n6 sudo docker version Check Docker Version","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"See also: How To Install Docker On Ubuntu","category":"page"},{"location":"appendix/#Important-Docker-commands","page":"Installation Instruction","title":"Important Docker commands","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Action Comment\nsudo docker images Display all Docker Images.\nsudo docker ps Display all running containers.\nsudo docker ps - a Display all containers.\nsudo docker start <name or id> E.g docker start julia.\nsudo docker exec -it <name or id> <command> E.g docker exec -it julia bash.\nsudo docker exec -it <name or id> <command> E.g docker exec -it julia julia.\nCtrl-D Exit the container\nsudo docker stop <name or id> E.g docker stop julia.\nsudo docker rm -f <name or id> Delete a container.\nsudo docker rmi <image id> Delete a image.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"","category":"page"},{"location":"appendix/#To-be-reconsidered,-I-am-not-sure-to-deliver-on-line-courses-this-way.","page":"Installation Instruction","title":"To be reconsidered, I am not sure to deliver on-line courses this way.","text":"","category":"section"},{"location":"appendix/#Dockerfile","page":"Installation Instruction","title":"Dockerfile","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Prerequisites","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Your computer OS is Ubuntu 20.04.\nYou have installed Dockerversion version 0.18.0 or higher.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"If you have installed Docker, you can create a Docker Image from a Dockerfile. From an image you can create Docker containers.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"FROM \"jupyter/minimal-notebook\"\n\nUSER root\n\nENV JULIA_VERSION=1.1.0\n\nRUN mkdir /opt/julia-${JULIA_VERSION} && \\\n    cd /tmp && \\\n    wget -q https://julialang-s3.julialang.org/bin/linux/x64/`echo ${JULIA_VERSION} | cut -d. -f 1,2`/julia-${JULIA_VERSION}-linux-x86_64.tar.gz && \\\n    tar xzf julia-${JULIA_VERSION}-linux-x86_64.tar.gz -C /opt/julia-${JULIA_VERSION} --strip-components=1 && \\\n    rm /tmp/julia-${JULIA_VERSION}-linux-x86_64.tar.gz\n\nRUN ln -fs /opt/julia-*/bin/julia /usr/local/bin/julia\n\nUSER $NB_UID\n\n# Add packages and precompile\n\nRUN julia -e 'import Pkg; Pkg.update()' && \\\n    julia -e 'import Pkg; Pkg.add(\"Plots\"); using Plots' && \\\n    # julia -e 'import Pkg; Pkg.add(\"PlotlyJS\"); using PlotlyJS' && \\\n    julia -e 'import Pkg; Pkg.add(\"Distributions\"); using Distributions' && \\\n    julia -e 'import Pkg; Pkg.add(\"Optim\"); using Optim' && \\\n    julia -e 'import Pkg; Pkg.add(\"StatsPlots\"); using StatsPlots' && \\\n    julia -e 'import Pkg; Pkg.add(\"IJulia\"); using IJulia' && \\\n    fix-permissions /home/$NB_USER","category":"page"},{"location":"appendix/#Install-IJulia-2","page":"Installation Instruction","title":"Install IJulia","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Prerequisites","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Your computer OS is Ubuntu 20.04.\nYou have installed Dockerversion version 0.18.0 or higher.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"note: Note\nThe instruction are based on Ubuntu 18.04. We use the command line in a terminal window.First check whether Docker is installed on your system, by typing docker --version. If the command docker is not recognized, install Docker.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action Comment\n1 Open a terminal window on Ubuntu $ is the prompt of your OS.\n2 $ mkdir work Create the folder work. Optionally, create sub-directories with the names of your students.\n3 $ mkdir julia Create another directory `julia'.\n4 $ cd julia Goto the directory julia.\n5 Copy the code of the section Dockerfile to the clipboard \n6 $ nano Dockerfile Open the text editor nano.\n7 Ctrl-Shift-V Paste the text on the clipboard into the text editor.\n8 Ctrl-O Save the Dockerfile.\n9 Ctrl-X Exit nano\n10 $ ls list the content of the directory julia.\n11 $ cat Dockerfile Display the content of the Dockerfile.\n12 $ docker build -t julia-image . Create a Docker IJulia image. The name of the image is julia-image.\n13 $ docker run -v ~/work:/home/jovjan/work -p 8888:8888 --name julia julia-image Create a Docker container, and the IJulia Notebook server starts.\n14 Ctrl-C Stop the server.","category":"page"},{"location":"appendix/#Using-IJulia","page":"Installation Instruction","title":"Using IJulia","text":"","category":"section"},{"location":"appendix/#Instructor","page":"Installation Instruction","title":"Instructor","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action/Response Comment\n1 $ docker start julia Start the IJulia.\n2 $ docker exec -it julia bash Start the Docker client.\n3 jovyan@40f8c3bcf0c1:~$ jupyter notebook list Display the token.\n jovyan@40f8c3bcf0c1:~$ jupyter notebook list Currently running servers: http://0.0.0.0:8888/?token=f394613a12c103a2de92e70aa34715b2183d58e3d5580a2e :: /home/jovyan \n4 Select the token In this case: f394613a12c103a2de92e70aa34715b2183d58e3d5580a2e.\n5 Ctrl-Shift-C Copy the token to the clipboard.\n6 Store the key somewhere, so you can email it to your students. \n7 $ Ctrl-D Exit Docker client.","category":"page"},{"location":"appendix/#Install-Ubuntu-on-Samsung-T5-and-Lemovo-Legion-Y520-with-Windows-10","page":"Installation Instruction","title":"Install Ubuntu on Samsung T5 and Lemovo Legion Y520 with Windows 10","text":"","category":"section"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"The steps I have done.","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action/Response Comment\n1 Download ISO-image from Ubuntu 18.04. website \n2 Copy with Rufus to USB-stick \n3 Start machine and press F2 Change the Bios Lenovo","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Under Boot tab:\nFast Boot disabled\nUnder Security tab:\nSecureboot disabled\nSee:\nhttps://github.com/kfechter/LegionY530Ubuntu/blob/master/Sections/InstallUbuntu.md","category":"page"},{"location":"appendix/","page":"Installation Instruction","title":"Installation Instruction","text":"Step Action/Response Comment\n4 Start Y520 with Windows 10 and press F12 \n5 Choose Ubuntu Restart via USB.\n6 After restart choose for install Ubuntu on 500GB portable disk \n7 sudo apt update \n8 sudo do-release-upgrade -d Upgrade to Ubuntu 20.04.","category":"page"},{"location":"chapter12/#.-The-Main-Module-AppliAR.jl","page":"12 - The Main-Module AppliAR.jl","title":"12. The Main-Module AppliAR.jl","text":"","category":"section"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"We have decided to replace OpentrainingItem by InvoiceItem:","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"Change training_id to prod_code in MetaInvoice.\nModify the main package AppliAR.jl.\nTest the changes.\nPush our changes to the Master branch.","category":"page"},{"location":"chapter12/#Contents","page":"12 - The Main-Module AppliAR.jl","title":"Contents","text":"","category":"section"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"Pages = [\"chapter12.md\"]","category":"page"},{"location":"chapter12/#Step-1-Modify-MetaInvoice","page":"12 - The Main-Module AppliAR.jl","title":"Step 1 - Modify MetaInvoice","text":"","category":"section"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"Modify MetaInvoice according to the next code:","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"struct MetaInvoice <: Structure\n  _order_id::String\n  _prod_code::String #1\n  _date::DateTime\n  _currency::String\n  _currency_ratio::Float64\n  # Constructors\n  #MetaInvoice(order_id, training_id) = new(order_id, training_id, now(), \"‚Ç¨\", 1.0)\n  #MetaInvoice(order_id, training_id, date, currency, currency_ratio) = new(order_id, training_id, now(), currency, currency_ratio)\n\tMetaInvoice(order_id, prod_code) = new(order_id, prod_code, now(), \"‚Ç¨\", 1.0) #1\n  MetaInvoice(order_id, prod_code, date, currency, currency_ratio) = new(order_id, prod_code, now(), currency, currency_ratio) #1\nend # MetaInvoice","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"#1 _training_id is changed to _prod_code.","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"Change training_id(m::MetaInvoice) to prod_code(m::MetaInvoice)","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"#training_id(m::MetaInvoice)::String = m._training_id\nprod_code(m::MetaInvoice)::String = m._prode_code","category":"page"},{"location":"chapter12/#Step-2-Change-AppliAR.jl","page":"12 - The Main-Module AppliAR.jl","title":"Step 2 - Change AppliAR.jl","text":"","category":"section"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"Change OpentrainingItem to InvoiceItem in AppliAR.jl.","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"module AppliAR\n\nimport AppliSales: Order\nimport AppliGeneralLedger: JournalEntry\n\n# main methods\nexport process, retrieve_unpaid_invoices, retrieve_paid_invoices, read_bank_statements\n\n# methods to retrieve values from fields\nexport UnpaidInvoice, PaidInvoice, meta, header, body, id\nexport PaidInvoice, stm\nexport BankStatement, date, descr, iban, amount\nexport MetaInvoice, order_id, training_id, date, currency, currency_ratio\nexport Header, invoice_nbr, name, address, postal_code, city, country, order_ref, name_contact, email_contact\n#export OpentrainingItem, name_training, date, price_per_student, students, vat_perc #1\nexport InvoiceItem, code, descr, unit_price, qty, vat_perc #2\n\n# instantiate the sub-modules\ninclude(\"./domain/Domain.jl\"); using .Domain\ninclude(\"./api/API.jl\"); using .API\ninclude(\"./infrastructure/Infrastructure.jl\"); using .Infrastructure","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"#1 Promote line to a comment.","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"#2 Replace OpentrainingItem by InvoiceItem.","category":"page"},{"location":"chapter12/#Step-3-Test-the-Changes.","page":"12 - The Main-Module AppliAR.jl","title":"Step 3- Test the Changes.","text":"","category":"section"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"Create a file test2.jl with the next code and test it line by line.","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"using Pkg; Pkg.activate(\".\")\n\nusing AppliAR\n\nusing AppliSales\n\norders = AppliSales.process()\n\nentries1 = AppliAR.process(orders)\n\nunpaid_invoices = retrieve_unpaid_invoices()\n\nstms =  read_bank_statements(\"./bank.csv\")\n\nentries2 = AppliAR.process(unpaid_invoices, stms)\n","category":"page"},{"location":"chapter12/#Step-4-Push-your-Changes-to-the-Master-Branch","page":"12 - The Main-Module AppliAR.jl","title":"Step 4 - Push your Changes to the Master Branch","text":"","category":"section"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"When everything is working well merge your changes into the git master branch.","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"$ git git checkout master\n\n$ git merge dev\n\n$ git branch -d dev # remove the dev branch, be careful!!!","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"When you have made changes to the master branch in the meantime then start with rebasing the dev branch.","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"$ git checkout dev\n\n$ git rebase master","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"run the tests again.","category":"page"},{"location":"chapter12/","page":"12 - The Main-Module AppliAR.jl","title":"12 - The Main-Module AppliAR.jl","text":"info: Info\nWhen you cooperate with others on a project you can create a Pull Request (PR) with your motivation to merge your changes.","category":"page"},{"location":"chapter6/#.-Accounts-Package-from-a-User-Point-of-View","page":"6 - The Accounts Package from a User Point of View","title":"6. Accounts Package from a User Point of View","text":"","category":"section"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"With using <module name> in your code, you make the exported functions and types immediately accessible in the current scope. You can display the elements by typing Account. followed by pressing twice on the Tab-button.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"In this chapter, you define the functions and types that will be exported.","category":"page"},{"location":"chapter6/#Contents","page":"6 - The Accounts Package from a User Point of View","title":"Contents","text":"","category":"section"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"Pages = [\"chapter6.md\"]","category":"page"},{"location":"chapter6/#Accounts.jl","page":"6 - The Accounts Package from a User Point of View","title":"Accounts.jl","text":"","category":"section"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"The modified main module with the exports enabled. The user can use the functions and types when he loads the Accounts module.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"module Accounts\n\nexport EMAIL, WORK # from Domain #1\nexport create # from API #2\nexport add_to_file, read_from_file # from Infrastructure #3\n\ninclude(\"Domain.jl\"); using .Domain\ninclude(\"API.jl\"); using .API\ninclude(\"Infrastructure.jl\"); using .Infrastructure\n\nend","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"#1 EMAIL and WORK are values we need in the create-function.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"#2 The user needs to create addresses and persons","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"#3 The functions are used to store and retrieve persons.","category":"page"},{"location":"chapter6/#Activity-6.1:-Export-Elements","page":"6 - The Accounts Package from a User Point of View","title":"Activity 6.1: Export Elements","text":"","category":"section"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"In this activity you define which functions, and types are exported when a software programmer uses our module Accounts.","category":"page"},{"location":"chapter6/#Prerequisites","page":"6 - The Accounts Package from a User Point of View","title":"Prerequisites","text":"","category":"section"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"Ubuntu 20.04.\nJulia 1.5 installed.\nAtom/Juno installed.\nGit installed.\nThe finished Exercise 5.1 - Adding the sub-module Infrastructure","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"Step Action Comment\n1 $ cd ~/.julia/dev/Accounts Go to the Accounts project folder.\n2 $ atom . Start Atom/Juno.\n3 Open the file Accounts.jl \n4 Remove the hashtags According to section Accounts.jl\n5 Ctrl-S Save the file.\n6 Ctrl-D Close Julia.\n7 Press: <Enter> Start Julia REPL.\n8 julia> ] Start the package manager.\n9 pkg> activate . Open the Accounts environment.\n10 Press: <BackSpace> Return to the REPL.\n11 julia> using Accounts Load the Accounts module.\n12 julia> Accounts. <Tab><Tab> Display the exported elements. Don't forget the dot (.) after Accounts.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"julia> Accounts.\nAPI            Domain          EMAIL           Infrastructure  WORK            \nadd_to_file     create        eval            include         read_from_file","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"Step Action Comment\n13 Shift+Ctrl-9 Open Git panel when closed.\n14 Put the cursor in the field Commit message \n15 Type: Define export elements Account.jl \n16 Click on: Stage All \n17 Click on: Commit to master \n18 Click on: Push The Push-button is located in the lower right corner.\n19 Verify on GitHub whether you see the exports in Accounts.jl ","category":"page"},{"location":"chapter6/#test_accounts.jl","page":"6 - The Accounts Package from a User Point of View","title":"test_accounts.jl","text":"","category":"section"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"We use the package DataFrames in the example code. With DataFrames you can manipulate tabular data. See DataFrames for more information.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"The code first starts with loading DataFrames in a try-catch block. When the statement using DataFrames throws an error then it starts the package manager and loads the package.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"The high order functions map and filter are used. High order functions use functions as arguments and operates on collections. The functions are mostly anonymous is the form of x -> <expression using x> where x is a consecutive element of the collection.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"using Pkg; Pkg.activate(\".\")\n\nusing Accounts\n\n@info(\"With DataFrames you can manipulate data\")\ntry\n  using DataFrames\ncatch e\n  Pkg.add(\"DataFrames\")\n  using DataFrames\nend\n\nmm_email = create(EMAIL, \"mickey@duckcity.com\")\ndd_email = create(EMAIL, \"donald@duckcity.com\")\ndd_work = create(WORK,\n  \"\"\"\n  Magic Kingdom\n  1180 Seven Seas Dr\n  Lake Buena Vista\n  FL 32830\n  United States\n  \"\"\"\n)\n\ndd_addresses = [dd_email, dd_work]\n\ndonald = create(\"Donald Duck\", dd_addresses)\nmickey = create(\"Mickey Mouse\", [mm_email])\n\n@info(\"Save and retrieve the data\")\n\nconst FILE_ACCOUNTS = \"./test_accounts.txt\"\n\n@info(\"Add Donald and Mickey to a file\")\nadd_to_file(FILE_ACCOUNTS, [donald, mickey])\n\n@info(\"Read the data from the file and pass it to a DataFrame\")\ndf = read_from_file(FILE_ACCOUNTS) |> DataFrame\n\n# @info(\"Describe DataFrame df\")\n# println(describe(df))\n\n@info(\"Show some data\")\nprintln(df.name)\n\n@info(\"Print all rows and two columns\")\nprintln(df[:, [:created, :name]])\n\n@info \"Add a column email\"\ndf[!, :email] = map(x -> (filter(y -> y.address_type == EMAIL, x))[1].address, df[:, :addresses])\nprintln(df[:, [:created, :name, :email]])\n\n@info(\"Remove the file $FILE_ACCOUNTS\")\ntry\n  rm(\"$FILE_ACCOUNTS\") # remove the file\n  @warn(\"File $FILE_ACCOUNTS removed from disk\")\ncatch e\n  @warn(e.msg)\nend","category":"page"},{"location":"chapter6/#Activity-6.2:-Test-the-Module","page":"6 - The Accounts Package from a User Point of View","title":"Activity 6.2: Test the Module","text":"","category":"section"},{"location":"chapter6/#Requisites","page":"6 - The Accounts Package from a User Point of View","title":"Requisites","text":"","category":"section"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"Ubuntu 20.04.\nJulia 1.5 installed.\nAtom/Juno installed.\nGit installed.\nGitHub repository of Accounts is available.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"Step Action Comment\n1 $ cd projects Create the folder projects when it doesn't exist.\n2 $ mkdir TestAccounts \n3 $ cd TestAccounts \n4 $ atom . Start Atom/Juno.\n5 Juno > Open REPL Go to menu and open Julia REPL.\n6 Press: <Enter> Start Julia.\n7 julia> ] Open package manager.\n8 pkg> activate . Activate local environment.\n9 (TestAccounts) pkg> add https://github.com/<your account name>/Accounts.jl Load the package. Use rbontekoe as an account name in case you don't have a GitHub repository of Accounts yourself.\n10 TestAccounts) pkg>test Accounts Run the tests.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"Test Summary: | Pass  Total\nDomain.jl     |    1      1\nTest Summary: | Pass  Total\nAPI.jl        |    1      1\nTest Summary:     | Pass  Total\nInfrastructure.jl |    1      1\n    Testing Accounts tests passed","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"Step Action Comment\n11 Press: <BackSpace> Press the BackSpace button to return to Julia.\n12 File > New File Create a new file, e.g. test_accounts.jl.\n13 Press: <Enter> Create the file.\n14 Ctrl-S Save the file.\n15 Paste the code under the section test_ accounts.jl in the file \n16 Use repeatably Shift-Enter to execute the lines Run the code line by line.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"The output looks like:","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"environment at `~/.julia/dev/Accounts/Project.toml`\n[ Info: With DataFrames you can manpulate data\n[ Info: Save and retrieve the data\n[ Info: Add Donald and Mickey to a file\n[ Info: Read the data from the file and pass it to a DataFrame\n[ Info: Show some data\n[\"Donald Duck\", \"Mickey Mouse\"]\n\n[ Info: Print all rows\n‚îÇ Row ‚îÇ created                 ‚îÇ name         ‚îÇ\n‚îÇ     ‚îÇ Dates.DateTime          ‚îÇ String       ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 1   ‚îÇ 2020-08-19T12:07:12.236 ‚îÇ Donald Duck  ‚îÇ\n‚îÇ 2   ‚îÇ 2020-08-19T12:07:12.605 ‚îÇ Mickey Mouse ‚îÇ\n\n[ Info: Add a column email\n2√ó3 DataFrame\n‚îÇ Row ‚îÇ created                 ‚îÇ name         ‚îÇ email               ‚îÇ\n‚îÇ     ‚îÇ Dates.DateTime          ‚îÇ String       ‚îÇ String              ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 1   ‚îÇ 2020-08-19T12:07:12.236 ‚îÇ Donald Duck  ‚îÇ donald@duckcity.com ‚îÇ\n‚îÇ 2   ‚îÇ 2020-08-19T12:07:12.605 ‚îÇ Mickey Mouse ‚îÇ mickey@duckcity.com ‚îÇ\n\n[ Info: Remove the file ./test_accounts.txt\n‚îå Warning: File ./test_accounts.txt removed from disk\n‚îî @ Main ~/.julia/dev/Accounts2/src/test_accounts.jl:56","category":"page"},{"location":"chapter6/#runtest.jl","page":"6 - The Accounts Package from a User Point of View","title":"runtest.jl","text":"","category":"section"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"The modified runtests.jl file.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"using Accounts\nusing Test\n\nconst FILE_ACCOUNTS = \"./test_accounts.txt\"\n\n@testset \"Accounts.jl\" begin\n    donald_email = create(EMAIL, \"donald@duckcity.com\")\n    donald = create(\"Donald Duck\", [donald_email])\n    add_to_file(FILE_ACCOUNTS, [donald])\n    result = read_from_file(FILE_ACCOUNTS)\n    first_person = result[1]\n    @test first_person.addresses[1].address == \"donald@duckcity.com\"\n    cmd = `rm $FILE_ACCOUNTS` # linux remove file statement\n    run(cmd) # remove file\nend","category":"page"},{"location":"chapter6/#Exercise-6.1:-Redefine-runtests.jl","page":"6 - The Accounts Package from a User Point of View","title":"Exercise 6.1: Redefine runtests.jl","text":"","category":"section"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"In this exercise, you run a test in the folder TestAccounts again with the modified Accounts module.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"Return to the Accounts development environment and change the contents of Accounts.jl conform the section runtest.jl.\nGo to the package manager and run test Accounts.\nPush the changes to your GitHub repository.\nGo to the TestAccounts folder, start Atom/Juno and Julia and activate the next package manager commands:","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"activate .\nstatus\nupdate Accounts\ntest Accounts","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"(@v1.5) pkg> activate .\n Activating environment at `~/projects/TestAccounts/Project.toml`\n\n(TestAccounts) pkg> status\nStatus `~/projects/TestAccounts/Project.toml`\n  [c01e8521] Accounts v0.1.0 `https://github.com/rbontekoe/Accounts.jl#master`\n  [a93c6f00] DataFrames v0.21.6\n\n(TestAccounts) pkg> update Accounts\n   Updating registry at `~/.julia/registries/General`\n######################################################################## 100,0%\n   Updating git-repo `https://github.com/rbontekoe/Accounts.jl`\nUpdating `~/projects/TestAccounts/Project.toml`\n  [c01e8521] ~ Accounts v0.1.0 `https://github.com/rbontekoe/Accounts.jl#master` ‚áí v0.1.0 `https://github.com/rbontekoe/Accounts.jl#master`\nUpdating `~/projects/TestAccounts/Manifest.toml`\n  [c01e8521] ~ Accounts v0.1.0 `https://github.com/rbontekoe/Accounts.jl#master` ‚áí v0.1.0 `https://github.com/rbontekoe/Accounts.jl#master`\n\n(TestAccounts) pkg> test Accounts\n    Testing Accounts\n\nTest Summary: | Pass  Total\nAccounts.jl   |    1      1\n    Testing Accounts tests passed\n","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"You might decide to change the version number of the module, for example to 0.2.0. You change the version number in the file Project.toml.","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"name = \"Accounts\"\nuuid = \"c01e8521-f333-4719-ae6f-8e8181cc4e4d\"\nauthors = [\"Rob Bontekoe <rbontekoe@appligate.nl> and contributors\"]\nversion = \"0.1.0\"","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"The version number consists of three parts, where the notation x.y.z has the following meaning:","category":"page"},{"location":"chapter6/","page":"6 - The Accounts Package from a User Point of View","title":"6 - The Accounts Package from a User Point of View","text":"x = main version number, 0-~.\ny = feature number, 1-~. Increase this number if the change contains new features with or without bug fixes.\nz = hotfix number, 0-~. Increase this number if the change only contains bug fixes.","category":"page"},{"location":"chapter8/#The-Design-of-AppliAR.jl","page":"8 - The Design","title":"8 - The Design of AppliAR.jl","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter8/#Contents","page":"8 - The Design","title":"Contents","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Pages = [\"chapter8.md\"]","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"First, let's look at some terms and definitions. We'll convert the procedure Invoicing into an activity diagram. Using the Onion Architecture pattern, we define the Domain objects and the Julia API-functions. In the Infrastructure layer, we put the functions that interact with the outer world and the inner layers.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"","category":"page"},{"location":"chapter8/#Terms-and-Definitions","page":"8 - The Design","title":"Terms and Definitions","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The points of attention are:","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Procedure,\nDomain-driven design,\nDistributed processing, and\nStyle conventions.","category":"page"},{"location":"chapter8/#Procedure","page":"8 - The Design","title":"Procedure","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"A procedure is a description of work practice, a workflow. It describes a series of activities or actions in a particular order and interacts with people and machines. Actions make use of resources. Data, a service or a product, is the output of work.","category":"page"},{"location":"chapter8/#Domain-Driven-Design","page":"8 - The Design","title":"Domain-Driven Design","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Each process should be domain-specific. Subject matter experts and users of the domain speak the same language and use the same definitions and synonyms for concepts and objects. It leads to a Domain-driven design paradigm.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The Onion Architecture lends itself perfectly to the domain-driven design pattern. It divides an application into four areas: core, domain, API, and infrastructure.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The core consists out of the Julia language constructs and Julia modules. Modules are also called packages.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The next layer, the domain, defines the domain entities and concepts. Between its elements, there must be coherence. You only use constructs from the core. UnpaidInvoice is an example.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The next peel is the API. The API consists of Julia functions that operate on the domain elements, and are used to create programs. You only use constructs from the core and the domain.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"create_unpaidinvoice, create_paidinvoice, create_pdf are examples.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The infrastructure layer is the ultimate peel. With its functions, it communicates with the external world. Adapters overcome mismatches between interfaces. When you write you the code, you use elements from the inner layers.","category":"page"},{"location":"chapter8/#Distributed-Processing","page":"8 - The Design","title":"Distributed Processing","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Programs, written in Julia language, also can run on other processor cores. Even in Docker containers on remote machines. Julia uses the master-worker concept. It means that the master executes Julia's functions on workers.","category":"page"},{"location":"chapter8/#Style-Conventions","page":"8 - The Design","title":"Style Conventions","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The article Blue: a Style Guide for Julia describes the style conventions.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"","category":"page"},{"location":"chapter8/#A-Procedure-as-a-Starting-Point","page":"8 - The Design","title":"A Procedure as a Starting Point","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"In 1994 we were delivering Lotus Notes instructor-led training in the Netherlands. We became ISO-9001 certified one year later. ISO is short for the International Organization for Standardization. A part of ISO is the section procedures.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"A procedure describes a workflow of a business process. It specifies the activities to be carried out by people or machines and the resources that are required to produce a result.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"An input triggers a process. Every action creates an output, most of the time, modified information or side-effects such as saving data.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The example I use in the course is the procedure Invoicing.","category":"page"},{"location":"chapter8/#The-Course-Example","page":"8 - The Design","title":"The Course Example","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"In 1998 we rewrote our procedures as a table. Every row represents an activity or action. Next to the events are the columns with the roles involved with the work. The original procedure:","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Procedure: Invoicing.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Roles: OM = Office Manage, AOM = Assistant Office Manager.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Input: List of orders.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Step Action AOM OM Output Tool Exception\n1 Create an invoice per order R A Created and authorized invoices Order file \n2 Archive a copy of the invoice R  Archived copy Accounts Receivable unpaid \n3 Send the invoice to the customer R I Invoice sent  \n4 Book the invoice R A Booked invoice General ledger \n5 Book the paid invoice R A Paid invoice Bank records, General ledger \n6 Archive the paid invoice R I Archived invoice Accounts Receivable paid \n7 Check unpaid invoices  R List of unpaid invoices to contact customer Note in CRM system ","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"RASCI","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"R = Responsible, the entity who is responsible for the execution of the activity.\nA = Approves, the entity who approves the result before going to the next step.\nS = Supports, the members of the team.\nC = Consults, an entity.\nI = Informed, notify the entity about the result.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Let's see how we can automate the procedure with Julia. We tackle it with a technique of Domain-Driven Design and the Onion architecture.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"","category":"page"},{"location":"chapter8/#The-Procedure-as-an-Activity-Diagram","page":"8 - The Design","title":"The Procedure as an Activity Diagram","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The activity diagram represents the workflow. The actions are Julia functions. You can add typed arguments and return values in Julia, noted by a double colon (::) followed by the name of the type. This defines the domain entities, e.g., ::Order, ::UnpaidInvoice.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"‚öâ process(::Array{Order)::Array{JournalEntry}\n    ‚Üì\n    create(::Array{Order}::Array{UnpaidInvoice}\n    ‚Üì\n    send_email(::Array{UnpaidInvoice}) # TODO\n    ‚Üì\n    archive(::Array{UnpaidInvoice})\n    ‚Üì\n    create(::Array{UnpaidInvoice}::Array{JournalEntry}\n    ‚Üì\n    return ::Array{JournalEntry}\n    ‚Üì\n    ‚óâ\n\n‚öâ process(::Array{UnpaidInvoice}, ::Array{BankStatement})::Array{JournalEntry}\n    ‚Üì\n    filter(::Array{UnpaidInvoice}, ::Array{Bankstatement})::Array{PaidInvoice}\n    ‚Üì\n    archive(::Array{PaidInvoice})\n    ‚Üì\n    create(::Array{PaidInvoice})::Array{JournalEntry}\n    ‚Üì\n    return ::Array{JournalEntry}\n    ‚Üì\n    ‚óâ\n\n‚öâ report(::Array{UnpaidInvoice}, days::Int) # TODO\n    ‚Üì\n    filter(::Array{UnpaidInvoice, ::Int}::Array{UnpaidInvoiceDue}\n    ‚Üì\n    return ::Array{UnpaidInvoiceDue}\n    ‚Üì\n    ‚óâ","category":"page"},{"location":"chapter8/#The-Design","page":"8 - The Design","title":"The Design","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"From the activity diagram we get:","category":"page"},{"location":"chapter8/#Domain-Elements","page":"8 - The Design","title":"Domain Elements","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The domain objects (types) are:","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Domain Types:","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"UnpaidInvoice;\nPaidInvoice;\nBankStatement.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"External Types:","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"AppliSales.Order¬π;\nAppliGeneralLedger.JournalEntry¬≤.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"General packages:","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Dates¬≥;\nDataFrames¬≥","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"¬π Defined in the package AppliSales.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"¬≤ Defined in the package AppliGeneralLedger.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"¬≥ Dates is a sub-module of Julia. A package for manipulating data is DataFrames. The DataFrame data structure is comparable to a spreadsheet.","category":"page"},{"location":"chapter8/#API","page":"8 - The Design","title":"API","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"The API contains the methods (functions) of the module. The methods use only elements from the core or domain. An overview of we need:","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"create(::Array{Order,1})::Array{UnpaidInvoice, 1}\ncreate(::Array{UnpaidInvoice, 1}, ::Array{BankStatement, 1})::Array{PaidInvoice,1)\nconv2entry(inv::Array{UnpaidInvoice, 1}, from::Int, to::Int)::Array{JournalEntry, 1}\nconv2entry(inv::Array{PaidInvoice, 1}, from::Int, to::Int)::Array{JournalEntry, 1}","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"In Julia, you can use the same function name as long as the signature is different, so other types and, or the number of arguments. One calls it multiple dispatch.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"An Order, consists of the data objects Training, and Company plus additional data about contact, and student. Order is defined in domain.jl of the support-package AppliSales.","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Also, we have already created a support-package AppliGeneralLedger to make it easier to test AppliAR.jl. JournalEntry is defined in domain.jl.","category":"page"},{"location":"chapter8/#Methods-of-the-Infrastructure-Layer","page":"8 - The Design","title":"Methods of the Infrastructure Layer","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"Database, private methods:","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"add_to_file(file::String, data::Array{Any, 1}\nread_from_file(file::String)::Array{Any, 1}","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"External accessible methods:","category":"page"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"read_bank_statements(path::String)::Array{BankStatement,1}\nprocess(::Array{Order)::Array{JounalEntry, 1}\nprocess(::UnpaidInvoice, ::BankStatement)::Array{JounalEntry, 1}\nretrieve_unpaid_invoices()::Array{UnpaidInvoice, 1}\nretrieve_paid_invoice()::Array{PaidInvoice, 1}","category":"page"},{"location":"chapter8/#ToDo","page":"8 - The Design","title":"ToDo","text":"","category":"section"},{"location":"chapter8/","page":"8 - The Design","title":"8 - The Design","text":"I am thinking of Literate.jl as a package to make PDFs.\nHow to attach a PDF to an email?\nHow to send an email?\nSMTPClient.jl","category":"page"},{"location":"chapter15/#.-Running-the-Containers","page":"15 - Running the Containers","title":"15. Running the Containers","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter15/#Contents","page":"15 - Running the Containers","title":"Contents","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Pages = [\"chapter15.md\"]","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"In chapter 13, we combine what we have learned in chapter 6, Testing the application and chapter 12 Creating SSH enabled Containers. We use the the packages AppliSales, AppliInvoicing, and AppliGeneralLedger. In the container test_sshd we use AppliSales, and AppliInvoicing, and in test_sshd2 we use AppliGeneralLedger. We will discover that the general ledger data will be stored in a file on test_sshd2.","category":"page"},{"location":"chapter15/#Activity-15.1:","page":"15 - Running the Containers","title":"Activity 15.1:","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"We start with cloning the code from AppliMaster on GitHub.","category":"page"},{"location":"chapter15/#Activity-15.2:","page":"15 - Running the Containers","title":"Activity 15.2:","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Create the application.","category":"page"},{"location":"chapter15/#Activity-15.1:-Cloning-the-code","page":"15 - Running the Containers","title":"Activity 15.1: Cloning the code","text":"","category":"section"},{"location":"chapter15/#Prerequisites:","page":"15 - Running the Containers","title":"Prerequisites:","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Docker is installed on your computer.\nYou have the two containers test_sshd and test_sshd2 created in chapter 13, Create the Container.\nBoth containers are SSH enabled.\nYou have a Internet connection to download the all the modules we need.","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Steps:","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Start both containers and check their Docker internal IP-address.\nUse SSH to connect from testsshd to testsshd2 and install our modules in both containers.\nCreate the program.","category":"page"},{"location":"chapter15/#Step-1.1-Start-both-containers","page":"15 - Running the Containers","title":"Step 1.1 - Start both containers","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Step Action Comment\n1 $ docker start test_sshd \n2 $ docker start test_sshd2 \n3 $ docker inspect -f \"{{ .NetworkSettings.IPAddress }}\" test_sshd e.g. 172.17.0.2\n4 $ docker inspect -f \"{{ .NetworkSettings.IPAddress }}\" test_sshd2 e.g. 172.17.0.3","category":"page"},{"location":"chapter15/#Step-1.2-Use-SSH-to-connect-from-test_sshd-to-test_sshd2-and-install-the-out-modules","page":"15 - Running the Containers","title":"Step 1.2 - Use SSH to connect from test_sshd to test_sshd2 and install the out modules","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Step Action Comment\n1 $ ssh rob@172.17.0.2 Enter the container test_sshd.\n2 $ julia Start Julia.\n3 julia> ] Go to the package manager.\n4 pkg> add https://github.com/rbontekoe/AppliSales.jl Install AppliSales.jl.\n5 pkg> add https://github.com/rbontekoe/AppliInvoicing.jl Install AppliInvoicing.jl.\n6 pkg> add https://github.com/rbontekoe/AppliGeneralLedger.jl Install AppliGeneralLedger.jl.\n7 Ctrl-C Return to REPL prompt.\n8 Ctrl-D Leave Julia.\n9 $ ssh rob@172.17.0.3 Enter the container test_sshd2.\n10 Repeat step 5, 6, and 7 All our packages are available in test_sshd2.\n11 Leave the container test_sshd2. ","category":"page"},{"location":"chapter15/#Step-1.3-Clone-AppliMaster","page":"15 - Running the Containers","title":"Step 1.3 - Clone AppliMaster","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Step Action Comment\n1 $ git clone https://github.com/rbontekoe/Master.jl.git A folder AppliMaster.jl will be created.\n2 $ ls \n3 Ctrl-D Leave the container.","category":"page"},{"location":"chapter15/#Activity-15.2:-Create-the-application","page":"15 - Running the Containers","title":"Activity 15.2: Create the application","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Prerequisites:","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Docker is installed on your computer.\nYou have the two containers testsshd and testsshd2 created in Chapter 9, Create the Container.\nBoth containers are SSH-enabled.\nJulia is installed in the directory julia on the containers.\nThe AppliSales, AppliInvoicing, and AppliGeneralLedger packages are installed in both containers.","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Steps","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Start the container test_sshd and create main.jl with nano.\nRun the application.","category":"page"},{"location":"chapter15/#Step-1:-Start-the-container-test_sshd-and-test_sshd2","page":"15 - Running the Containers","title":"Step 1: Start the container test_sshd and test_sshd2","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Step Action Comment\n1 $ docker start test_sshd Start the first container.\n2 $ docker inspect -f \"{{ .NetworkSettings.IPAddress }}\" test_sshd Displays docker address, eg, 172.17.0.2.\n3 Take a note of the ip-address of test_sshd \n4 $ docker start test_sshd2 Start the second container.\n5 Take a note of the ip-address of test_sshd2 \n6 $ ssh rob@172.17.0.2 Use the ip-address step 2.\n7 $ julia Start Julia, and continue at step 8 of Activity 2: Test the code","category":"page"},{"location":"chapter15/#Example-test-code","page":"15 - Running the Containers","title":"Example test code","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Step Action Comment\n1 Create a file app_functions.jl In test_sshd.\n2 Put the code from AppliMaster.jl in the file \n3 Start julia \n4 Run the next (initialization) code first ","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"julia> using Distributed\n\njulia> p = addprocs([(\"rob@172.17.0.3\", 1)]; exeflags=`--project=$(Base.active_project())`)\n1-element Array{Int64,1}:\n 2\n\njulia> p = p[1] #container used for invoicing\n\njulia> q = p[1] # container used for general ledger\n\njulia> @everywhere using AppliSales\n\njulia> @everywhere using AppliInvoicing\n\njulia> @everywhere using AppliGeneralLedger\n\njulia> include(\"./app_functions.jl\");\n\njulia> rx = dispatcher()\n[ Info: task_0 is waiting for data\n[ Info: task_1 is waiting for data\n[ Info: task_2 is waiting for data\n[ Info: task_3 is waiting for data\nChannel{Any}(sz_max:32,sz_curr:0)","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Step Action Comment\n5 Run the next codel ","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"julia> put!(rx, \"START\"); # start the application\n\n\njulia> stms = AppliInvoicing.read_bank_statements(PATH_CSV); # retrieve data\n\njulia> put!(rx, stms); # processing the uppaid invoices","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"When run the code again, you will experience that it is very fast. Best is to delete first the data stores:","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Step Action Comment\n6 ;ssh rob@172.17.0.3 Go to test_ssh2.\n7 ;rm invoicing.sqlite journal.txt ledger.txt Delete the stores.\n8 Ctrl-D Leave the container.\n9 Run the previous code again ","category":"page"},{"location":"chapter15/#The-result-(statementrs-removed)","page":"15 - Running the Containers","title":"The result (statementrs removed)","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"[ Info: Dispatcher received String\n[ Info: task_0 received String\n[ Info: task_0 will start the process remotely\n\n[ Info: task_0 will put 3 the orders on rx channel\n[ Info: task_0 is waiting for data\n\n[ Info: Dispatcher received Array{AppliSales.Order,1}\n[ Info: Task 1 will put 3 orders on rx channel\n[ Info: task_1 is waiting for data\n\n[ Info: Dispatcher received Array{AppliGeneralLedger.JournalEntry,1}\n[ Info: task_2: Processing journal entries\n[ Info: task_2 is waiting for data\n\n[ Info: Dispatcher received Array{AppliInvoicing.BankStatement,1}\n[ Info: Task_3: Processing unpaid invoices\n[ Info: Retrieved 3 unpaid invoices\n[ Info: task_3 is waiting for data\n\n[ Info: Dispatcher received Array{AppliGeneralLedger.JournalEntry,1}\n[ Info: task_2: Processing journal entries\n[ Info: task_2 is waiting for data","category":"page"},{"location":"chapter15/#Unkown-data-will-not-be-routed!","page":"15 - Running the Containers","title":"Unkown data will not be routed!","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"Step Action Comment\n10 Run the code in step 5 again ","category":"page"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"test = \"Test unkown type\";\n\nput!(rx, test); # unkown type error","category":"page"},{"location":"chapter15/#Result","page":"15 - Running the Containers","title":"Result","text":"","category":"section"},{"location":"chapter15/","page":"15 - Running the Containers","title":"15 - Running the Containers","text":"[ Info: Dispatcher received String\n\n‚îå Warning: No task found for type String\n‚îî @ Main ~","category":"page"},{"location":"chapter3/#.-Create-and-Test-Domain.jl","page":"3 - Create and Test Domain.jl","title":"3. Create and Test Domain.jl","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"To get experience with Julia and modules, we will build an application where we can register and retrieve persons.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"You start with creating the sub-module file Domain.jl. Then you define in Domain.jl:","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"the objects Address and Person.\nthe enumerator AddressType with the values EMAIL and WORK.\nthe local function create_key, which will create a unique key based on the time of creation and address.\nthe objects that are accessible by other modules.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Finally, you define the test code in the file runtests.jl.","category":"page"},{"location":"chapter3/#Contents","page":"3 - Create and Test Domain.jl","title":"Contents","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Pages = [\"chapter3.md\"]","category":"page"},{"location":"chapter3/#Domain.jl-Domain-Objects","page":"3 - Create and Test Domain.jl","title":"Domain.jl - Domain Objects","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"On the Domain page, you define the custom data structures that make-up your domain.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"To define a data structure and type, use the keyword struct. The body consists of the fields of the data structure. A struct is a non-mutable object unless you precede it with the keyword mutable.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Use constructors to define standard values. It simplifies the creating of an object.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"module Domain #1\n\nusing Dates #2\n\nexport Person, Address, AddressType, EMAIL, WORK #3\n\n# local function to generate an unique id\ncreate_key(name::String) = string(hash(name * string(time()))) #4\n\n# enumerated type for an address.\n@enum AddressType EMAIL WORK #5\n\nstruct Address #6\n  id::String\n  created::DateTime\n  address_type::AddressType\n  address::String\n  #constructors\n  Address(address_type, address) = new(create_key(address), now(), address_type, address)\nend # Address\n\nstruct Person #7\n  id::String\n  created::DateTime\n  name::String\n  addresses::Array{Address, 1}\n  #constructors\n  Person(name) = new(create_key(name), name, [])\n  Person(name, addresses) = new(create_key(name), now(), name, addresses)\nend # Person\n\nend\n","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"#1 Module names start with a capital letter. See the Blue: a Style Guide for Julia.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"#2 If you need date functions like time(), date(), or now() you have to load the Dates package.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"#3 With the keyword export you define what elements are default available to users.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"#4 We use the hash function to generate a unique id. You use * to concatenate Strings in Julia. The function string converts the date-time value to a String value.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"#5 The AddressTypes that you allow in an Address object.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"#6 The structure of the Address datatype. The constructor Address(address_type, address) allows the user to only specify the AddressType and the address. The values for the fields id and created are generated by the Julia code.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"#7 The Person datatype. The values for the fields id and created are generated by Julia code. When you don't specify an address, the software creates an empty array. Later on, you can add addresses using the push! function.","category":"page"},{"location":"chapter3/#Activity-3.1:-Create-the-File-Domain.jl-in-the-src-folder","page":"3 - Create and Test Domain.jl","title":"Activity 3.1: Create the File Domain.jl in the src-folder","text":"","category":"section"},{"location":"chapter3/#Prerequisites-(activities-in-chapter-2)","page":"3 - Create and Test Domain.jl","title":"Prerequisites (activities in chapter 2)","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Activity 2.1: Setup the Development Environment.\nActivity 2.2: Create the Accounts module.\nActivity 2.3: Create a Repository on GitHub.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"In this activity you:","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Create the file Domain.jl.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n1 Go to the ~/.julia/dev/Accounts folder \n2 Right click on: src \n3 Select: New file \n4 Type: Domain.jl A file that represents a module starts with a capital letter.\n5 Press: <Enter> A new document appears in the pane next to the navigation pane.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"In the navigation pane you see the next folders and files:","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"·µ•üìÅ Accounts\n  ·µ•üìÅ src\n     üìÑ Accounts.jl\n     üìÑ Domain.jl","category":"page"},{"location":"chapter3/#Activity-3.2:-Pasting-the-Domain-Code-into-Domain.jl","page":"3 - Create and Test Domain.jl","title":"Activity 3.2: Pasting the Domain Code into Domain.jl","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"In this activity you:","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Add the Domain code to the file Domain.jl.\nSave the file.","category":"page"},{"location":"chapter3/#Prerequisites","page":"3 - Create and Test Domain.jl","title":"Prerequisites","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"The previous activity 3.1","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n1 Select the code from the section Domain.jl-Domain-objects \n2 Ctrl-C Copy the code to the clipboard.\n3 Paste the code in the file Domain.jl \n4 Ctrl-S Save the file.","category":"page"},{"location":"chapter3/#Modified-Accounts.jl","page":"3 - Create and Test Domain.jl","title":"Modified Accounts.jl","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"module Accounts\n\ninclude(\"Domain.jl\"); using .Domain #1\n\nend","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"#1 the function include loads the code of the specified file. using .Domain activates the module. The dot refers to a sub-module of Accounts. The ; separates the two Julia statements.","category":"page"},{"location":"chapter3/#Activity-3.3:-Update-Accounts.jl","page":"3 - Create and Test Domain.jl","title":"Activity 3.3: Update Accounts.jl","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"In this activity you declare Domain as a sub-module of Accounts.","category":"page"},{"location":"chapter3/#Prerequisites-2","page":"3 - Create and Test Domain.jl","title":"Prerequisites","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"The previous activity 3.2","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n1 Open Accounts.jl \n2 Delete all lines \n3 Copy the code Modified Accounts.jl into the file \n4 Ctrl-S Save the file.","category":"page"},{"location":"chapter3/#Dependencies","page":"3 - Create and Test Domain.jl","title":"Dependencies","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"You declare all dependencies of your module in the file Project.toml under the section [deps]. The now()-function belongs to Dates module. Dates is a Julia module and you load with using Dates.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"name = \"Accounts\"\nuuid = \"a1b4bf14-7ec5-4e42-8992-fb1d0e08b0e4\"\nauthors = [\"Rob Bontekoe <rbontekoe@appligate.nl> and contributors\"]\nversion = \"0.1.0\"\n\n[deps]\nDates = \"ade2ca70-3891-5945-98fb-dc099432e06a\"\n\n[compat]\njulia = \"1\"\n\n[extras]\nTest = \"8dfed614-e22c-5e08-85e1-65c5234f0b40\"\n\n[targets]\ntest = [\"Test\"]","category":"page"},{"location":"chapter3/#Activity-3.4:-Adding-Dates-as-Dependency","page":"3 - Create and Test Domain.jl","title":"Activity 3.4: Adding Dates as Dependency","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"In this activity you will:","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Activate the Accounts environment.\nAdd the dependency Dates to the environment and Project.toml.\nInspect the status of the active environment.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"You automatically add dependencies to the file Project.toml when you switch to the Accounts environment.","category":"page"},{"location":"chapter3/#Prerequisites-3","page":"3 - Create and Test Domain.jl","title":"Prerequisites","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"The previous activity 3.3","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n1 Open the Julia REPL Juno > Open REPL.\n2 Press: <Enter> Start Julia.\n3 jullia> ] Type ] to activate the package manager.\n4 pkg> activate . Activate the Accounts environment.\n5 (Accounts) pkg> status Show Accounts loaded packages (dependencies)\n6 (Accounts) pkg> add Dates Add the Dates module.\n7 (Accounts) pkg> st Show your dependencies. You can abbreviate your commands. Use the arrow-up button to retrieve previous commands.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Project Accounts v0.1.0\nStatus `~/.julia/dev/Accounts/Project.toml`\n  [ade2ca70] Dates","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n6 Press: BackSpace Return to the Julia prompt.","category":"page"},{"location":"chapter3/#test_domain.jl","page":"3 - Create and Test Domain.jl","title":"test_domain.jl","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"using Pkg; Pkg.activate(\".\")\n\nimport Accounts: Domain\n\nusing .Domain\n\ndonald_email = Address(EMAIL, \"donald@duckcity.com\")\ndonald_work = Address(WORK,\n  \"\"\"\n  Donalds Hardware Store\n  attn. Donald Duck\n  1190 Seven Seas Dr\n  FL 32830 Lake Buena Vista\n  USA\n  \"\"\"\n)\n\naddresses = [donald_email, donald_work]\n\ndonald = Person(\"Donald Duck\", addresses)\n\nemail_address = filter(x -> x.address_type == EMAIL, donald.addresses)\n\nprintln(email_address[1].address)","category":"page"},{"location":"chapter3/#Activity-3.5:-Testing-your-Code","page":"3 - Create and Test Domain.jl","title":"Activity 3.5: Testing your Code","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Most of the time, you put the code that you want to test in a test file.","category":"page"},{"location":"chapter3/#Prerequisites-4","page":"3 - Create and Test Domain.jl","title":"Prerequisites","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"The previous activity 3.4","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n1 Create the file test_domain.jl \n2 Copy the test_domain.jl code into the file See: test_domain.jl\n3 Ctrl-S Save the file.\n4 Select the first line \n5 Shift-Enter The line will execute.\n6 Repeat until the last line. \n7 Ctrl-Enter The cursor stays on the current line.","category":"page"},{"location":"chapter3/#runtests.jl","page":"3 - Create and Test Domain.jl","title":"runtests.jl","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"It is even better to put you test code in the file runtests.jl. The folder test contains the file.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"using Accounts\nusing Test\n\nimport Accounts: Domain\nusing .Domain\n\n@testset \"Domain.jl\" begin\n    donald_email = Address(EMAIL, \"donald@duckcity.com\")\n    donald = Person(\"Donald duck\", [donald_email])\n    email_addresses = filter(x -> x.address_type == EMAIL, donald.addresses)\n    @test email_addresses[1].address == \"donald@duckcity.com\"\nend","category":"page"},{"location":"chapter3/#Activity-3.6:-runtests.jl","page":"3 - Create and Test Domain.jl","title":"Activity 3.6: runtests.jl","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"You will:","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Add unit test code to the file runtests.jl.\nTest the module Accounts.","category":"page"},{"location":"chapter3/#Prerequisites-5","page":"3 - Create and Test Domain.jl","title":"Prerequisites","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"The previous activity 3.5","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n1 $ atom . Start Atom/Juno.\n2 Select the folder: test Open the folder with runtests.jl.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"·µ•üìÅ Accounts\n   üìÅ src\n  ·µ•üìÅ test\n     üìÑ runtests.jl","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n3 Open file: runtests.jl Open the file.\n4 Copy and paste the code from section runtests.jl See: runtests.jl\n5 Ctrl-S Save the file.\n6 julia> ] Activate the package manager.\n7 pkg> activate . Activate the Accounts environment.\n8 (Accounts) Pkg> st Check whether Dates is loaded. See Activity 3.4 - Adding Dates as Dependency.\n9 (Accounts) Pkg> test Accounts Run the test code. The result is:","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Test Summary: | Pass  Total\nDomain.jl     |    1      1\n    Testing Accounts tests passed","category":"page"},{"location":"chapter3/#Activity-3.7:-Update-your-GitHub-Repository","page":"3 - Create and Test Domain.jl","title":"Activity 3.7: Update your GitHub Repository","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"It is time to push our changes to the GitHub repository. The easiest way is to use Atom/Juno. The Git pane have to be visible.","category":"page"},{"location":"chapter3/#Prerequisites-6","page":"3 - Create and Test Domain.jl","title":"Prerequisites","text":"","category":"section"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"The previous activity 3.6","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n1 Shift+Ctrl-9 Open the Git-pane when it is not visible.\n2 Place your cursor in the field Commit message \n3 Type: Add Domain.jl sub-module \n4 Stage the changed files Click on Stage All in the upper right corner of the Git-pane.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"You see a list of changed (ocher) and new (green) files (Domain.jl and test_domain.jl) in the section Staged Changes of the pane.","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Project.toml\nsrc/Accounts.jl\nsrc/Domain.jl\nsrc/test_domain.jl\ntest/runtests.jl","category":"page"},{"location":"chapter3/","page":"3 - Create and Test Domain.jl","title":"3 - Create and Test Domain.jl","text":"Step Action Comment\n5 Click on: Commit to master \n6 Click on the Push button The Push-button is located at the lower right corner.\n7 Go to GitHub and check whether your changes are visible ","category":"page"},{"location":"chapter10/#.-The-Sub-Module-API","page":"10 - The Sub-Module API","title":"10. The Sub-Module API","text":"","category":"section"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"The API consists of functions that operate on the domain elements, for example:","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"Create an invoice from an order.\nCreate a paid invoice from an unpaid invoice.\nCreate a journal entry for the general ledger.","category":"page"},{"location":"chapter10/#Contents","page":"10 - The Sub-Module API","title":"Contents","text":"","category":"section"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"Pages = [\"chapter10.md\"]","category":"page"},{"location":"chapter10/#API.jl","page":"10 - The Sub-Module API","title":"API.jl","text":"","category":"section"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"A code fragment the API sub-module to creating an unpaid invoice from an order. See AppliAR.jl/src/api/API.jl for the complete code of the API layer.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"include(\"./spec.jl\")\n\nimport ..AppliAR: Domain\nusing .Domain #1\n\nusing Dates\n\nimport AppliSales: Order # Order is not exported but is refered to in the next function #2\nimport AppliGeneralLedger: create_journal_entry #3\n\nexport create, conv2entry\n\n\ncreate(order::Order, invoice_id::String)::UnpaidInvoice = begin #4\n    meta = MetaInvoice(order.id, order.training.id)\n    header_invoice = Header(\n\t\t    invoice_id, order.org.name, order.org.address, order.org.zip, order.org.city, order.org.country, order.order_ref, order.contact_name, order.contact_email)\n    body_invoice = OpentrainingItem(order.training.name, order.training.date, order.training.price, order.students)\n\treturn UnpaidInvoice(invoice_id, meta, header_invoice, body_invoice)\nend","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"#1 The API layer can only use elements from the inner Domain layer.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"#2 Order is defined in the package AppliSales.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"#3 We borrow the function from the AppliGeneralLedger package. The API function conv2entry uses it to create JournalEntry's for the package. Our module depends on AppliSales and AppliGeneralLedger and must be defined in Project.toml.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"#4 The function that returns an UnpaidInvoice.","category":"page"},{"location":"chapter10/#Case-Study-Part-Two-Redefining-BodyItem-as-a-Concrete-Datatype","page":"10 - The Sub-Module API","title":"Case Study Part Two - Redefining BodyItem as a Concrete Datatype","text":"","category":"section"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"In Case Study Part One we decided to keep OpentrainingItem and create another data type InvoiceItem.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"struct InvoiceItem <: BodyItem\n    _prod_code::String\n    _qty::Float64\n    _descr::Array{String, 1}\n    _unit_price::Float64\n    _vat_perc::Float64\n\t\t# constructors\n\t  InvoiceItem(code, qty, descr, unit_price) = new(code, qty, descr, unit_price, 0.21)\n\t  InvoiceItem(code, qty, descr, unit_price, vat_perc) = new(code, qty, descr, unit_price, vat_perc)\nend","category":"page"},{"location":"chapter10/#Advantage-of-API-as-Sub-Module.","page":"10 - The Sub-Module API","title":"Advantage of API as Sub-Module.","text":"","category":"section"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"The statement export create, conv2entry works for me as an interface.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"The Infrastructure layer uses these methods.  Of course, I must maintain the current signatures. But I can change the code with no penalties.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"And, I can create new methods with the same names but with a different signature, when I have to add other types of invoice items to the body. To differentiate between the different types, I use an extra type parameter.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"In the next example it is the type AppliSales.Training but I can follow the same strategy for AppliSales.Incompany and AppliSales.Book when they exist.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"create(type::AppliSales.Training, order::Order, invoice_id::String)::UnpaidInvoice = begin\n\tmeta = MetaInvoice(order.id, order.training.id)\n  header_invoice = Header(\n\t\t  invoice_id, order.org.name, order.org.address, order.org.zip, order.org.city, order.org.country, order.order_ref, order.contact_name, order.contact_email)\n\n\t# compose the description for the invoice\n\tstudents = \"Attendees: \" * reduce((x, y) -> x * \", \" * y, order.students)\n\tdescription  = [order.training.name, \"Date: \" * string(Date(order.training.date)), students]\n\n\tbody_invoice = InvoiceItem(\n\t\torder.training.name, # code\n\t\tlength(order.students), # quantity\n\t\tdescription, # descr\n\t\torder.training.price # unit_price\n\t)\n\n\treturn UnpaidInvoice(invoice_id, meta, header_invoice, body_invoice)\nend","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"And, I should not forget to export InvoiceItem in the Domain module.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"export OpentrainingItem, name_training, date, price_per_student, students, vat_perc\nexport InvoiceItem, code, descr, unit_price, qty, vat_perc","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"If one were already using my package, I cannot delete OpentrainingItem. Of course, this is not the case but in reality, you have to take it into account.","category":"page"},{"location":"chapter10/#Exercise-10.1:-Change-the-code-according-to-case-study-one-and-two","page":"10 - The Sub-Module API","title":"Exercise 10.1: Change the code according to case study one and two","text":"","category":"section"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"Go to a folder, for example projects.\nClone AppliAR.jl.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"$ git clone https://github.com/rbontekoe/AppliAR.jl.git","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"Enter the folder AppliAR.jl and start Atom/Juno.\nStart the Julia REPL.\nActivate the local environment and run the test.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"pkg> activate .\n\npkg> test AppliAR","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"Close Atom/Juno.\nStart a development branch. Creating a branch in git give you the possibility to experiment.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"$ git branch dev\n\n$ git checkout dev\n\n$ git status","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"Start Atom/Juno.\nMake the changes according to Case Study Part One. Export InvoiceItem and functions in Domain.jl.\nChange the data types of the field 'body' in UnpaidInvoice and PaidInvoice to the abstract type BodyItem.\nAdd the new create-function to the API according to Advantages of API as Sub-Module.\nAdd Training to the import statement of AppliSales in API.jl and instantiate AppliSales.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"import AppliSales: Order, Training\n\nusing AppliSales","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"Run the test again.","category":"page"},{"location":"chapter10/","page":"10 - The Sub-Module API","title":"10 - The Sub-Module API","text":"pkg> activate .\n\n(AppliAR) pkg> test AppliAR","category":"page"},{"location":"chapter16/#.-Logging","page":"16 - Logging","title":"16. Logging","text":"","category":"section"},{"location":"chapter16/","page":"16 - Logging","title":"16 - Logging","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter16/#Contents","page":"16 - Logging","title":"Contents","text":"","category":"section"},{"location":"chapter16/","page":"16 - Logging","title":"16 - Logging","text":"Pages = [\"chapter16.md\"]","category":"page"},{"location":"chapter16/","page":"16 - Logging","title":"16 - Logging","text":"This link looks interesting: Logging","category":"page"},{"location":"chapter16/","page":"16 - Logging","title":"16 - Logging","text":"julia> using Logging\n\njulia> io = open(\"log.txt\", \"w+\");\n\njulia> logger = SimpleLogger(io);\n\njulia> with_logger(logger) do\n           @info(\" here is some context specific logging\")\n       end\n\nshell> cat log.txt\n\njulia> flush(io);\n\nshell> cat log.txt\n‚îå Info:  here is some context specific logging\n‚îî @ Main REPL[7]:2\n\njulia> global_logger(logger);\n\njulia> @info(\"All logs will use the global logger by default.\");\n\nshell> cat log.txt\n‚îå Info:  here is some context specific logging\n‚îî @ Main REPL[7]:2\n\njulia> close(io);\n\nshell> cat log.txt\n‚îå Info:  here is some context specific logging\n‚îî @ Main REPL[7]:2\n‚îå Info: All logs will use the global logger by default.\n‚îî @ Main REPL[12]:1","category":"page"},{"location":"chapter17/#.-Implementing-AppliAR-(Accounts-Receivable)-Package","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17. Implementing AppliAR (Accounts Receivable) Package","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter17/#Contents","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Contents","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"Pages = [\"chapter17.md\"]","category":"page"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"See also: Developing Julia Packages","category":"page"},{"location":"chapter17/#Step-1-Create-a-package","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 1 - Create a package","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"Create the local package AppliAR (Accounts Receivable)\nCreate the GitHub Repository AppliAR.jl\nPush local repostitory to GitHub","category":"page"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"","category":"page"},{"location":"chapter17/#Step-1.1-Create-the-local-package-AppliAR-(Accounts-Receivable)","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 1.1 - Create the local package AppliAR (Accounts Receivable)","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"Prerequisites","category":"page"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"Ubuntu 18.04\nJulia 1.3 installed\nAtom installed\nGitHub account\nGitKraken installed\nTravis CI account","category":"page"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"Step Action Comment\n1 $ julia Start Julia.\n2 julia> ] Select the Package REPL.\n3 pkg> add PkgTemplates Install PkgTemplates.jl\n4 pkg> BackSpace Back to the Julia REPL.\n5 Paste the following code into the Julia REPL ","category":"page"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"julia> using PkgTemplates # Start the PkgTemplates package\n\njulia> t2 = Template(; # Create the template\n              user=\"rbontekoe\",\n              license=\"MIT\",\n              authors=[\"Rob Bontekoe\"],\n              julia_version=v\"1.3\",\n              ssh=true,\n              plugins=[\n                  TravisCI(),       # Continious Integration\n                  Codecov(),        # Improve your code review\n                  Coveralls(),      # Which parts aren‚Äôt covered by your test suite\n                  AppVeyor(),       # CI/CD service\n                  GitHubPages(),    # Documentation\n              ],\n   )\n\njulia> generate(t, \"AppliAR\") # Create the local package in ~/.julia/dev","category":"page"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":":‚Äì‚Äì‚Äì‚Äì‚Äì :‚Äì‚Äì‚Äì‚Äì‚Äì :‚Äì‚Äì‚Äì‚Äì‚Äì\n1 $ julia Start Julia.","category":"page"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"julia> 1 + 2","category":"page"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"| 2 | Etc. | |","category":"page"},{"location":"chapter17/#Step-1.2-Create-the-GitHub-Repository-AppliAR.jl","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 1.2 - Create the GitHub Repository AppliAR.jl","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"Step Action Comment\n1 https://github.com.<YOURNAME> Go to your GitHub account.\n2 Click on the Tab Repositories \n3 Click on the button New \n4 type: AppliAR.jl Type your package name ending with .jl in the Repository name field.\n5 Click on the button Create repository ","category":"page"},{"location":"chapter17/#Step-1.3-Push-local-repostitory-to-GitHub","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 1.3 - Push local repostitory to GitHub","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"|Step     | Action      | Comment | |:‚Äì‚Äì‚Äì‚Äì‚Äì | :‚Äì‚Äì‚Äì‚Äì‚Äì |:‚Äì‚Äì‚Äì‚Äì‚Äì |","category":"page"},{"location":"chapter17/#Step-2-Implement-the-AppliAR","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 2 - Implement the AppliAR","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"\n\n","category":"page"},{"location":"chapter17/#Step-3-Creating-the-Domain-items","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 3 - Creating the Domain items","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"\n\n","category":"page"},{"location":"chapter17/#Step-4-Creating-the-API-functions","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 4 - Creating the API functions","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"\n\n","category":"page"},{"location":"chapter17/#Step-5-Creating-the-API-tests","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 5 - Creating the API tests","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"\n\n","category":"page"},{"location":"chapter17/#Step-6-Creating-the-Infrastructure-functions","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 6 - Creating the Infrastructure functions","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"\n\n","category":"page"},{"location":"chapter17/#Step-7-Creating-the-Infra-tests","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"Step 7 - Creating the Infra tests","text":"","category":"section"},{"location":"chapter17/","page":"17 - Implementing AppliAR (Accounts Receivable) Package","title":"17 - Implementing AppliAR (Accounts Receivable) Package","text":"\n\n","category":"page"},{"location":"chapter9/#.-The-Sub-Module-Domain","page":"9 - The Sub-Module Domain","title":"9. The Sub-Module Domain","text":"","category":"section"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"The module AppliAR follows the same structure as we have discussed in the Account module. We go deeper into the main differences.","category":"page"},{"location":"chapter9/#Contents","page":"9 - The Sub-Module Domain","title":"Contents","text":"","category":"section"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"Pages = [\"chapter9.md\"]","category":"page"},{"location":"chapter9/#PkgTemplate","page":"9 - The Sub-Module Domain","title":"PkgTemplate","text":"","category":"section"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"How I created the module AppliAR.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"julia> using PkgTemplates # Load the PkgTemplates package\n\njulia> t = Template(; # The configuration used to generate the package\n              user=\"rbontekoe\",\n              license=\"MIT\",\n              authors=[\"Rob Bontekoe\"],\n              julia_version=v\"1.3\",\n              ssh=true,\n              plugins=[\n                  TravisCI(),       # Continious Integration\n                  Codecov(),        # Improve your code review\n                  Coveralls(),      # Which parts aren‚Äôt covered by your test suite\n                  AppVeyor(),       # CI/CD service\n                  GitHubPages(),    # Documentation\n              ],\n       )\n\njulia> generate(t, \"AppliAR\") # Create the local package in ~/.julia/dev","category":"page"},{"location":"chapter9/#The-Application-Folder-Structure","page":"9 - The Sub-Module Domain","title":"The Application Folder Structure","text":"","category":"section"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"·µ•üìÅAppliAR\n   üìÅ docs #1\n     üìÅ src\n     üìÅ stable\n       üìÅ assets #1\n       üìÅ chapter1 #1\n       üìÅ chapter2 #1\n       üìÅ chapter3 #1\n       üìÅ chapter4 #1\n       üìÑ index.html #1\n       üìÑ search_index.js #1\n  ·µ•üìÅ src #2\n    ·µ•üìÅ api\n       üìÑ Api.jl\n       üìÑ spec.jl #3\n    ·µ•üìÅ domain\n       üìÑ Domain.jl\n       üìÑ spec.jl #3\n    ·µ•üìÅ infrastructure\n       üìÑ Infrastructure.jl\n       üìÑ db.jl\n       üìÑ doc.jl #3\n     üìÑ AppliAR.jl #4\n  ·µ•üìÅ test\n     üìÑ runtests.jl #5\n   üìÑ bank.csv\t \n   üìÑ LICENCE\n   üìÑ Project.toml  #6\n   üìÑ README.md","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"#1 Folders and files that make up the documentation of AppliAR.jl.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"#2 The application files.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"#3 Julia help documentation.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"#4 Contains the AppliAR module code.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"#5 Unit test file.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"#6 Contains the dependencies. Julia adds dependencies automatically to the Project.toml file when you activate the local environment (pkg> activate .) and add a package (module). See Manifest.toml](https://julialang.github.io/Pkg.jl/v1/toml-files/): \"The manifest file is an absolute record of the state of the packages in the environment. It includes exact information about (direct and indirect) dependencies of the project, and given a Project.toml + Manifest.toml pair it is possible to instantiate the exact same package environment, which is very useful for reproducibility.\"","category":"page"},{"location":"chapter9/#The-Model","page":"9 - The Sub-Module Domain","title":"The Model","text":"","category":"section"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"The sub-modules Domain.jl, API.jl and Infrastructure.jl shape the model and are located in the sub-folders. It makes it easier to split and group things.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"The file Domain.jl is in the sub-folder domain. As well as the file spec.jl we use for:","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"Specifying the abstract object hierarchy.\nDocumenting the functions.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"When Domain.jl is loaded, it also loads spec.jl.","category":"page"},{"location":"chapter9/#Specifying-the-Object-Hierarchy","page":"9 - The Sub-Module Domain","title":"Specifying the Object Hierarchy","text":"","category":"section"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"A data structure consists of abstract and concrete data types. The leaves are the concrete data types that we define in Domain.jl.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"We have three branches, Invoice, Structure, and Payment.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"The Structure branch determines the basic structure. It consists of a Header, a Body, and a Footer.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"A PaidInvoice is an UnpaidInvoice plus payment details.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"We can then refer to the data-type Invoice when we want for example:","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"Get the invoice number.\nGet the order number.\nSaving and retrieving an invoice.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"However, if we want to view the payment data, we must explicitly refer to PaidInvoice.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"                 _____________________ARDomain_______________\n                 ‚Üì                       ‚Üì                  ‚Üì\n            Invoice             ___Structure____         Payment\n            ‚Üì     ‚Üì             ‚Üì     ‚Üì        ‚Üì            ‚Üì\n UnpaidInvoice  PaidInvoice   Meta  Header  BodyItem   BankStatement\n                                               ‚Üì\n                                       OpentrainingItem\n\nspec.jl, abstract types:\nabstract type ARDomain end\nabstract type Invoice <: ARDomain end\nabstract type Structure <: ARDomain end\nabstract type BodyItem <: Structure end\nabstract type Payment <: ARDomain end","category":"page"},{"location":"chapter9/#Domain.jl","page":"9 - The Sub-Module Domain","title":"Domain.jl","text":"","category":"section"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"Let's have a look at the UnpaidInvoice.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"struct UnpaidInvoice <: Invoice\n    _id::String\n    _meta::MetaInvoice\n    _header::Header\n    _body::OpentrainingItem\nend # UnpaidInvoice","category":"page"},{"location":"chapter9/#Reading-Object-Fields","page":"9 - The Sub-Module Domain","title":"Reading Object Fields","text":"","category":"section"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"We have defined functions to read the fields of an object. E.g. id(i::Invoice) returns the id of an unpaid invoice as well as of a paid invoice.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"The advantage of defining functions to read fields are:","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"You can change the field name of an object without affecting your program.\nChange the data type of a field, but you let the function still returns the original datatype.\nMore or less hiding the field names. However, when the user uses the function fieldnames he can discover the names.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"julia> using AppliAR\n\njulia> fieldnames(UnpaidInvoice)\n(:_id, :_meta, :_header, :_body)","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"To make my programs robust I prefer to work with immutable data types. When I want to change the value of a field of an object then I have to recreate the object. So basically I only need to read the value from a field.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"# Fields Invoice\nmeta(i::Invoice)::MetaInvoice = i._meta\nheader(i::Invoice)::Header = i._header\nbody(i::Invoice)::BodyItem = i._body\nid(i::Invoice)::String = i._id\n\n# Field of an PaidInvoice containing the bank statement\nstm(i::PaidInvoice) = i._stm","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"You see that I refer to the abstract data type Invoice for retrieving the field values of UnpaidInvoice or PaidInvoice. Except, when I need the payment data I refer explicitly to PaidInvoce.","category":"page"},{"location":"chapter9/#.1-Case-Study-Part-One:-Redefining-BodyItem-as-a-Concrete-Datatype","page":"9 - The Sub-Module Domain","title":"9.1 Case Study Part One: Redefining BodyItem as a Concrete Datatype","text":"","category":"section"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"Our boss wants our module to be able to print invoices with more than one item, e.g. books and in-company training. He also believes that Structure must resemble a hard copy invoice and that any additional information should be retrieved from the metadata. Promoting BodyItem to a leave of the tree could cause problems if we have already stored invoices. It is easier to add another leave, InvoiceItem.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":" ____Structure____\n ‚Üì       ‚Üì       ‚Üì\nMeta   Header   BodyItem\n                 ‚Üì    ‚Üì\n   OpentrainingItem  InvoiceItem","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"Example of the body of a hard copy invoice:","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"Item Qty Description Price VAT Total\nLS 2 Learn Smiling 1,000.00 0.21 2,420,00\n  Date 2020/9/30   \n  Attendees: Mickey Mouse, Mini Mouse   \n     \nBAWJ 1 Sylabus 15,00 0.21 18.15\n     \nTotal     2,438,25","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"We have to add InvoiceItem.","category":"page"},{"location":"chapter9/","page":"9 - The Sub-Module Domain","title":"9 - The Sub-Module Domain","text":"struct InvoiceItem <: BodyItem\n\t_prod_code::String\n \t_qty::Float64\n \t_descr::Array{String, 1}\n \t_unit_price::Float64\n \t_vat_perc::Float64\n \t# constructors\n\tInvoiceItem(code, qty, descr, unit_price) = new(code, qty, descr, unit_price, 0.21)\n\tInvoiceItem(code, qty, descr, unit_price, vat_perc) = new(code, qty, descr, unit_price, vat_perc)\nend\n\ncode(b::InvoiceItem) = b._prod_code\ndescr(b::InvoiceItem) = b._descr\nunit_price(b::InvoiceItem) = b._unit_price\nqty(b::InvoiceItem) = b._qty\nvat_perc(b::InvoiceItem) = b._vat_perc\n\n# Example of creating an InvoiceItem\n\njulia> using Pkg; Pkg.activate(\".\")\n\njulia> using AppliSales\n\njulia> using Dates\n\njulia> import AppliAR: Domain\n\njulia> using .Domain\n\njulia> order = AppliSales.process()[2]\nAppliSales.Order(\"11183030955785246264\", AppliSales.Organization(\"12468650793473591401\", \"Duck City Chronicals\", \"1185 Seven Seas Dr\", \"FL 32830\", \"Lake Buena Vista\", \"USA\"), AppliSales.Training(\"LS\", DateTime(\"2019-08-30T00:00:00\"), 2, \"Learn Smiling\", 1000.0), \"DD-001\", \"Mickey Mouse\", \"mickey@duckcity.com\", [\"Mini Mouse\", \"Goofy\"])\n\njulia> students = \"Attendees: \" * reduce((x, y) -> x * \", \" * y, order.students)\n\"Attendees: Mini Mouse, Goofy\"\n\njulia> description  = [order.training.name, \"Date: \" * string(Date(order.training.date)), students]\n3-element Array{String,1}:\n \"Learn Smiling\"\n \"Date: 2019-08-30\"\n \"Attendees: Mini Mouse, Goofy\"\n\njulia> body_invoice = InvoiceItem(\n               order.training.name, # prod_code\n               length(order.students), # qty\n               description, # descr\n               order.training.price, # unit_price\n       )\nInvoiceItem(\"Learn Smiling\", 2.0, [\"Learn Smiling\", \"Date: 2019-08-30\", \"Attendees: Mini Mouse, Goofy\"], 1000.0, 0.21)","category":"page"},{"location":"chapter11/#.-The-Sub-Module-Infrastructure","page":"11 - The Sub-Module Infrastructure","title":"11. The Sub-Module Infrastructure","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"The Infrastructure consists of elements and functions that use the domain and API elements as outlined in chapter 7 Methods of the Infrastructure Layer.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"Process an order to create unpaid invoices.\nProcess bank statements to create paid invoices.\nProduce journal entries for the general ledger.\nRetrieve unpaid and paid invoices.","category":"page"},{"location":"chapter11/#Contents","page":"11 - The Sub-Module Infrastructure","title":"Contents","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"Pages = [\"chapter11.md\"]","category":"page"},{"location":"chapter11/#Infrastructure.jl","page":"11 - The Sub-Module Infrastructure","title":"Infrastructure.jl","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"A partial overview of the Infrastructure module. See AppliAR.jl/src/infrastructure/Infrastructure.jl for a complete list.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"module Infrastructure\n\ninclude(\"./db.jl\") #1\ninclude(\"./doc.jl\") #2\n\nusing ..AppliAR #3\n\nusing CSV #4\n\nimport ..AppliAR: Domain, API #5\nusing .Domain\nusing .API\n\nimport AppliSales: Order #6\nimport AppliGeneralLedger: JournalEntry #7\nusing Dates\n\nexport process, read_bank_statements, retrieve_unpaid_invoices, retrieve_paid_invoices #8","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"#1 File with database functions. For now we serialize the objects and save them in a text file.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"#2 The Infrastructure Julia documentation.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"#3 Instantiates of the main module","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"#4 We use this package ti read CSV-files.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"#5 Instantiates of the sub-modules API and Domain. The sub-module Infrastructure has access to the exported API and Domain elements.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"#6 Reference to Order.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"#7 Reference to JournalEntry.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"#8 Functions that are directly accessible to others.","category":"page"},{"location":"chapter11/#process(orders)","page":"11 - The Sub-Module Infrastructure","title":"process(orders)","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"In The Procedure as an Activity Diagram of chapter 8 we sketched the workflows. Here you can see the implementation of the workflow when an order is received.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"process(orders::Array{Order, 1}; path=FILE_UNPAID_INVOICES) = begin\n    # get last invoice number\n    try\n        read_from_file(FILE_INVOICE_NBR)\n    catch e\n        add_to_file(FILE_INVOICE_NBR, [START_INVOICE_NBR])\n    end\n\n    invnbr = last(read_from_file(FILE_INVOICE_NBR))\n\n    # create invoices\n    invoices = [create(order, \"A\" * string(invnbr += 1)) for order in orders]\n\n    # save invoice number\n    add_to_file(FILE_INVOICE_NBR, [invnbr])\n\n    # archive invoices\n    add_to_file(path, invoices)\n\n    # create journal entries from invoices\n    return entries = [conv2entry(inv, AR, SALES) for inv in invoices]\n\nend # process orders","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"The function has a named argument path that is used to store the created invoices. The default file name is test_invoicing.txt and is used for testing purposes. For production purposes you have to specify a different name to prevent the file from being erased when you run the tests.","category":"page"},{"location":"chapter11/#Case-Study-Part-Three:-Replace-OpentrainingItem-by-InvoiceItem","page":"11 - The Sub-Module Infrastructure","title":"Case Study Part Three: Replace OpentrainingItem by InvoiceItem","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"To keep it 'relatively simple' we replace OpentrainingItem by InvoiceItem.","category":"page"},{"location":"chapter11/#Exercise-11.1:-Changes-for-using-InvoiceItem","page":"11 - The Sub-Module Infrastructure","title":"Exercise 11.1: Changes for using InvoiceItem","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"The steps to be taken.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"In the sub-module Domain, we remove OpenTrainingItem and the field methods (name_training,","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"date, priceperstudent, students, vat_perc).","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"In the API sub-module we remove create(order::Order, invoice_id::String)::UnpaidInvoice.\nIn the sub-module API, we change the code of two conv2entry methods.\nIn the sub-module Infrastructure, we make all methods suitable for InvoiceItem.\nTest the changes.\nChange the test code in runtests.jl.","category":"page"},{"location":"chapter11/#Step-1-Remove-OpenTrainingItem","page":"11 - The Sub-Module Infrastructure","title":"Step 1 - Remove OpenTrainingItem","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"Go to the sub-module Domain and put #= and =# around OpentrainingItem.\nPut a # before the methods (nametraining, date, priceperstudent, students, vatperc) to retrieve the Opentraining fields.\nPut a # before the the line that starts with export OpentrainingItem.","category":"page"},{"location":"chapter11/#Step-2-Remove-create(order::Order,-invoice_id::String)","page":"11 - The Sub-Module Infrastructure","title":"Step 2 - Remove create(order::Order, invoice_id::String)","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"Put #= and =# around the method create(order::Order, invoice_id::String)::UnpaidInvoice.","category":"page"},{"location":"chapter11/#Step-3-Change-the-code-of-conv2entry","page":"11 - The Sub-Module Infrastructure","title":"Step 3 - Change the code of conv2entry","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"Replace in both methods conv2entry the line debit = price_per_student(b) * length(students(b)) by","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"debit = unit_price(b) * qty(b)","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"Replace in both methods conv2entry the line descr = name_training(b)) by:","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"descr = code(b)","category":"page"},{"location":"chapter11/#Step-4-Make-all-methods-suitable-for-InvoiceItem","page":"11 - The Sub-Module Infrastructure","title":"Step 4 - Make all methods suitable for InvoiceItem","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"In sub-module Infrastructure, change the code of the first method process where the invoices are created by","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"# create invoices\ninvoices = [(create(getfield(order, fieldnames(typeof(order))[3]), order, \"A\" * string(invnbr += 1))) for order in orders]","category":"page"},{"location":"chapter11/#Step-5-Test-the-changes.","page":"11 - The Sub-Module Infrastructure","title":"Step 5 - Test the changes.","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"Create a file test.jl with the next code and test it line by line.","category":"page"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"using Pkg; Pkg.activate(\".\")\n\nusing AppliAR\nusing AppliSales\n\nimport AppliAR: Domain, API\nusing .Domain, .API\n\norders = AppliSales.process()\n\ninvnbr = 1000\n\ninvoices = [(create(getfield(order, fieldnames(typeof(order))[3]), order, \"A\" * string(global invnbr += 1))) for order in orders]\n\nb = body(invoices[2])\n\ndescr(b)\n\nAppliAR.process(orders)\n\nunpaid_invoices = retrieve_unpaid_invoices()\n\nstms =  read_bank_statements(\"./bank.csv\")\n\nAppliAR.process(unpaid_invoices, stms)\n","category":"page"},{"location":"chapter11/#Step-6-Change-the-test-code-in-runtests.jl","page":"11 - The Sub-Module Infrastructure","title":"Step 6 - Change the test code in runtests.jl","text":"","category":"section"},{"location":"chapter11/","page":"11 - The Sub-Module Infrastructure","title":"11 - The Sub-Module Infrastructure","text":"Change the testcode in runtests.jl.","category":"page"},{"location":"chapter18/#.-PosgreSQL","page":"18 - PosgreSQL","title":"18. PosgreSQL","text":"","category":"section"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter18/#Contents","page":"18 - PosgreSQL","title":"Contents","text":"","category":"section"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"Pages = [\"chapter18.md\"]","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"urls","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"https://www.postgresql.org/download/linux/ubuntu/\nhttps://linuxize.com/post/how-to-install-postgresql-on-ubuntu-18-04/\nhttps://www.a2hosting.com/kb/developer-corner/postgresql/managing-postgresql-databases-and-users-from-the-command-line","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"sudo apt install libpq5","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"====","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"Naar https://www.postgresql.org/download","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"kies Ubuntu","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"kies Bionic(18.04)","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"in bestand /etc/apt/sources.list.d/pgdg.list, zet:","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"deb http://apt.postgresql.org/pub/repos/apt/ bionic-pgdg main","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"wget ‚Äìquiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"sudo apt-get update","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"====","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"$ sudo apt install postgresql postgresql-contrib","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"$ sudo -u postgres psql -c \"SELECT version();\"","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"====","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"$ sudo su - postgres","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"postgres@rob-Lenovo-Y520-15IKBN:~$ createuser ‚Äìinteractive ‚Äìpwprompt","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"postgres@rob-Lenovo-Y520-15IKBN:~$ createdb johndb","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"postgres@rob-Lenovo-Y520-15IKBN:~$ psql","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"postgres=# grant all privileges on database johndb to john;","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"====","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"$ sudo service postgresql restart","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"====","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"$ julia","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"julia> using DataFrames","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"julia> using LibPQ","category":"page"},{"location":"chapter18/","page":"18 - PosgreSQL","title":"18 - PosgreSQL","text":"julia> conn = LibPQ.Connection(\"host=localhost dbname=johndb user=john password=xxxxxxx\")","category":"page"},{"location":"notebook/#IJulia-Notebook","page":"IJulia Notebook","title":"IJulia Notebook","text":"","category":"section"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Whenever possible I like to create the course environment in a Docker container, for the instructor and for the students.","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"In online courses, I use my machine as IJulia Notebook server.","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Ideas are from Andre Ferrari","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Pages = [\"notebook.md\"]","category":"page"},{"location":"notebook/#What-is-a-notebook?","page":"IJulia Notebook","title":"What is a notebook?","text":"","category":"section"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"In this case, \"notebook\" or \"notebook documents\" denote documents that contain both code and rich text elements, such as figures, links, equations, ... Because of the mix of  code and text elements, these documents are the ideal place to bring together an analysis description, and its results, as well as, they can be executed perform the data analysis in real tme.See","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Top","category":"page"},{"location":"notebook/#Options-to-use-a-notebook","page":"IJulia Notebook","title":"Options to use a notebook","text":"","category":"section"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"You have several option to work with IJulia:","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"You have installed Julia on your own machine.\nYou have installed Docker on your own machine and run IJulia from a container with Julia and IJulia installed.\nYou make use of the IJulia server installed on the machne of your instructor.","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"The IJulia Notebook is installed on the machine of the instructor, but you can also install IJula on your own notebook. Follow the instruction in the appendix.","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Top","category":"page"},{"location":"notebook/#Starting-IJulia","page":"IJulia Notebook","title":"Starting IJulia","text":"","category":"section"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Ask your instructor for the public ip-address and the token.","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"The first time you enter the IJulia server, it will ask you one time for the token.","category":"page"},{"location":"notebook/#Login-to-the-IJulia-server","page":"IJulia Notebook","title":"Login to the IJulia server","text":"","category":"section"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Step Action Comment\n1 Start browser \n2 http://x.x.x.x:8888 Ask instructor for the complete the public ip-address of the IJulia server\n3 Enter the token in the Password or token field \n4 Click on the Log in button ","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Top","category":"page"},{"location":"notebook/#Create-a-new-notebook","page":"IJulia Notebook","title":"Create a new notebook","text":"","category":"section"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"(Image: Test)","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Step Action/Response Comment\n1 Click on work directory \n2 Click on button New Open New menu.\n3 Select on item Julia.x.x.x Create a new Julia Notebook.\n New Notebook is opened \n4 Place the cursor in the first cel In this cell you can type your code.\n5 println(\"Hello World!\") Type your Julia code.\n6 Shift-Enter Activate the code and create a new cell","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Top","category":"page"},{"location":"notebook/#Notebook-commands","page":"IJulia Notebook","title":"Notebook commands","text":"","category":"section"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Working with a Notebook is rather intuitive. Here are some commands you will often use.","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Command Comment\nShift-Enter Execute code and create a new cell below.\nCtrl-Enter Execute code and stay in the cell\nTab Code completion, e.g. printl-Tab => println.\nDouble Tab List with option, e.g. print-Tab displays print, println, and printstyled\n\\sqrt-tab Special characters, in this case ‚àö.\nEsc-A Create empty cell above the current cell.\nEsc-B Create empty cell below current cell.\nEsc-M Change to a markdown cell.\nEsc-Y Change to code cell.","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Click on the keyboard icon to see more options.","category":"page"},{"location":"notebook/","page":"IJulia Notebook","title":"IJulia Notebook","text":"Top","category":"page"},{"location":"notebook/#Summary","page":"IJulia Notebook","title":"Summary","text":"","category":"section"},{"location":"chapter14/#.-Run-the-Application-in-Containers","page":"14 - Run the Application in Containers","title":"14. Run the Application in Containers","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"UNDER DEVELOPMENT!","category":"page"},{"location":"chapter14/#Contents","page":"14 - Run the Application in Containers","title":"Contents","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Pages = [\"chapter14.md\"]","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"In lesson 9, Creating SSH enabled Containers, we created two containers: test_sshd and test_sshd2. In this chapter, we learn how to run a function in a remote container test_sshd2. Before we use the model we created in earlier lessons, you will test the containers with the package RbO.jl.","category":"page"},{"location":"chapter14/#Activity-14.1:-Start-the-Containers","page":"14 - Run the Application in Containers","title":"Activity 14.1: Start the Containers","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"To start the two Docker containers, test_sshd, and test_sshd2, we need to know their Docker IP-addresses. With the command ssh rob@<ip-address>, we enter the test_sshd container. Within this container, we generate a process id bound to the IP-address of test_ssh2.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"We create the file main.jl, which contains the base code for container-container communication.","category":"page"},{"location":"chapter14/#Activities-14.2a-and-14.2b:-Test-the-containers-(Use-Accounts.jl-instead-of-Rbo.jl!!!!!!)","page":"14 - Run the Application in Containers","title":"Activities 14.2a and 14.2b: Test the containers (Use Accounts.jl instead of Rbo.jl!!!!!!)","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Next, we use the example code to create a subscriber based on a name. We prefer to do the test with AppliGate's module RbO.jl. In chapter 12, you will use your modules.","category":"page"},{"location":"chapter14/#Activity-14.3:-Write-a-Function-that-Runs-Remote","page":"14 - Run the Application in Containers","title":"Activity 14.3: Write a Function that Runs Remote","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"You learn to write a function that can run remotely, and that saves a subscriber in an SQLite database on the container test_sshd2.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Activity-14.1:-Start-the-Containers-2","page":"14 - Run the Application in Containers","title":"Activity 14.1: Start the Containers","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Prerequisites:","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Docker is installed on your computer.\nYou have the two containers test_sshd and test_sshd2 created in chapter 13, Create the Container.\nBoth containers are SSH enabled.\nYou have a Internet connection to download the RbO.jl module.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Steps:","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Start both containers and check their Docker internal IP-address.\nUse SSH to connect from testsshd to testsshd2 and install Accounts.jl in both containers.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Step-1:-Start-both-containers-and-check-their-Docker-internal-IP-address","page":"14 - Run the Application in Containers","title":"Step 1: Start both containers and check their Docker internal IP-address","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Step Action Comment\n1 $ docker start test_sshd \n2 $ docker start test_sshd2 \n3 $ docker inspect -f \"{{ .NetworkSettings.IPAddress }}\" test_sshd e.g. 172.17.0.2\n3 $ docker inspect -f \"{{ .NetworkSettings.IPAddress }}\" test_sshd2 e.g. 172.17.0.3","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Step-2:-Use-SSH-to-Connect-from-test_sshd-o-test_sshd2-and-install-Accounts.jl","page":"14 - Run the Application in Containers","title":"Step 2: Use SSH to Connect from test_sshd o test_sshd2 and install Accounts.jl","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Install RbO in both containers, Example of adding the module","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Step Action Comment\n1 $ ssh rob@172.17.0.2 Enter the container test_sshd.\n2 $ ssh rob@172.17.0.3 Enter the container test_sshd3.\n3 $ julia Start Julia.\n4 julia> ] Go to the package manager.\n5 pkg> add https://github.com/rbontekoe/RbO.jl Install RbO.jl.\n6 Ctrl-C Return to REPL prompt.\n7 Ctrl-D Leave Julia.\n8 Ctrl-D Leave the container test_sshd2.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"note: Note\nIf your container is running on a remote machine, you have to use the ip-address of the remote machine and the exported port of the container to connect to.$ docker start test_sshd # start the container test_sshd$ docker port test_sshd # display the port, e.g. 22/tcp -> 0.0.0.0:32768$ ssh 192.168.xxx.xxx -p 32768 # connect to the container on remote machine","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Activity-2a:-Start-the-Two-Containers-and-Create-main.jl","page":"14 - Run the Application in Containers","title":"Activity 2a: Start the Two Containers and Create main.jl","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Prerequisites:","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Docker is installed on your computer.\nYou have the two containers testsshd and testsshd2 created in chapter 13, Create the Container.\nBoth containers are SSH-enabled.\nJulia is installed in the directory julia on the containers.\nThe RbO.jl package is installed in both containers.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Steps","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Start the container test_sshd and create main.jl with nano.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#.-Start-the-container-test_sshd-and-test_sshd2","page":"14 - Run the Application in Containers","title":"1. Start the container test_sshd and test_sshd2","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Step Action Comment\n1 $ docker start test_sshd Start the first container.\n2 $ docker inspect -f \"{{ .NetworkSettings.IPAddress }}\" test_sshd Displays docker address, eg, 172.17.0.2.\n3 Take a note of the ip-address of test_sshd \n4 $ docker start test_sshd2 Start the second container.\n5 Take a note of the ip-address of test_sshd2 \n6 $ ssh rob@172.17.0.2 Use the ip-address step 2.\n7 $ julia Start Julia, and continue at step 8 of Activity 2: Test the code","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Example-test-code","page":"14 - Run the Application in Containers","title":"Example test code","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"julia> using Distributed\n\njulia> d = Dict([]) # empty directory for pids, used by the calling container\nDict{Any,Any} with 0 entries\n\njulia> addprocs([(\"rob@172.17.0.3\", 1)])\n\njulia> d[\"test_sshd2\"] = last(workers())\n\njulia> @everywhere using RbO\n\njulia> @everywhere f1(x) = createSubscriber(x)\n\njulia> s1 = remotecall_fetch(f1, d[\"test_sshd2\"], \"Daisy\")\n","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Activity-2b:-Test-the-Code","page":"14 - Run the Application in Containers","title":"Activity 2b: Test the Code","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Prerequisites:","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Actitvity 1","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Step Action Comment\n1 Copy all the Test code example code to the clipboard, including the julia prompt and the response \n2 Return to the container \n3 Ctrl-Shfi-V Paste the text on the clipboard in the Julia REPL.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"The result should look like the next example:","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"julia> s1 = remotecall_fetch(f1, d[\"test_sshd2\"], \"Daisy\")\nSubscriber(\"884704875723870469\", \"Daisy\", \"\", MEAN_CALCULATOR)","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Activity-14.3:-Run-a-function-in-the-remote-container","page":"14 - Run the Application in Containers","title":"Activity 14.3: Run a function in the remote container","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Create and save a subscriber in the container test_sshd2. Then display all saved subscribers from a table.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Prerequisites:","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Activity 14.1\nActivity 14.2","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Steps:","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Install SQLite.jl (?!)\nTry the example code\nUse the Accounts.jl documentation","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Step-1:-Install-SQLite.jl","page":"14 - Run the Application in Containers","title":"Step 1: Install SQLite.jl","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Step Action Comment\n1 Enter test_sshd and start Julia \n2 Go to the package manager \n3 pkg > add SQLite ","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Step-2:-Try-the-example-code","page":"14 - Run the Application in Containers","title":"Step 2: Try the example code","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Try the code below.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"\nusing Distributed\n\nd = Dict([])\n\naddprocs([(\"rob@172.17.0.3\", 1)])\n\nd[\"test_sshd2\"] = last(workers())\n\n@everywhere using RbO\n\n# define a new function to create a new subscriber and save it in a database\n@everywhere f2(x) = begin\n  \ts = createSubscriber(x) # create a subscriber\n\tdb = connect(\"./rbo.sqlite\") # connect to database\n\tcreate(db, \"subscribers\", [s]) # save subscriber in database\nend\n\nremotecall_fetch(f2, 2, \"Mickey\")\n\n# define a new function for displaying all subscribers\n@everywhere f3(x) = begin\n   db = connect(\"./rbo.sqlite\") # connect to database\n   gather(db, x) # list all items in table x\nend\n\n# Get list of subscrobers\nremotecall_fetch(f3, 2, \"subscribers\")\n\n# Remove process\nrmprocs(d[\"test_sshd2\"])\n\n# Remove key from dictionary\ndelete!(d, \"test_sshd2\")\n","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"","category":"page"},{"location":"chapter14/#Step-3.-Use-the-Accounts.jl-documentation","page":"14 - Run the Application in Containers","title":"Step 3. Use the Accounts.jl documentation","text":"","category":"section"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Use the documentation to do the next steps.","category":"page"},{"location":"chapter14/","page":"14 - Run the Application in Containers","title":"14 - Run the Application in Containers","text":"Step Action Comment\n1 Use the command connect to create a link to the on-disk database rbo.sqlite \n2 Use the command 'gather' to retieve data from the SQL table subscribers ","category":"page"},{"location":"chapter2/#.-Setup-the-Development-Environment","page":"2 - Setup the Development Environment","title":"2. Setup the Development Environment","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"In this chapter, you learn to create your development environment based on Ubuntu 20.04 and Julia version 1.5.","category":"page"},{"location":"chapter2/#Contents","page":"2 - Setup the Development Environment","title":"Contents","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Pages = [\"chapter2.md\"]","category":"page"},{"location":"chapter2/#Get-Experience-with-Modules","page":"2 - Setup the Development Environment","title":"Get Experience with Modules","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"To get experience with Julia and modules, we start with building an application where we can register and retrieve persons. The module name is Accounts.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"The activities are","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Activity 2.1: Setup the Development Environment.\nActivity 2.2: Create the Accounts module.\nActivity 2.3: Create a Repository on GitHub.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"We use the Onion Architecture to define a model that consists of the layers Domain, API, and Infrastructure. The layers are declared as sub-modules. See also Domain-driven Design in section 2 Accounts Receivable of chapter 7 The design.","category":"page"},{"location":"chapter2/#The-Domain-layer","page":"2 - Setup the Development Environment","title":"The Domain layer","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"The domain has the objects Person, Address, and AddressType.","category":"page"},{"location":"chapter2/#The-API-layer","page":"2 - Setup the Development Environment","title":"The API layer","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"The API has the function create. It can be used for creating persons and addresses.","category":"page"},{"location":"chapter2/#The-Infrastructure-layer","page":"2 - Setup the Development Environment","title":"The Infrastructure layer","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Infrastructure has the functions save and retrieve to save and retrieve persons.","category":"page"},{"location":"chapter2/#Activity-2.1:-Setup-the-Development-Environment","page":"2 - Setup the Development Environment","title":"Activity 2.1: Setup the Development Environment","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"In this activity, you will create a development environment.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Install Julia.\nInstall Atom.\nInstall Juno.\nAdd the Julia package PkgTemplates.","category":"page"},{"location":"chapter2/#Prerequisites","page":"2 - Setup the Development Environment","title":"Prerequisites","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Ubuntu 20.04.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Step Action Comment\n1 Ctrl+Alt-T Open a terminal window.\n2 Install Julia Follow the Installation instructions.\n3 Install Git \n4 Install AtomAtom) \n5 Install Juno \n6 Close Atom \n7 $ julia Start Julia.\n8 julia> ] Go to the package manager.\n9 pkg> add PkgTemplates Add the PkgTemplates package.\n10 pkg> BackSpace Back to Julia REPL.\n11 julia> Ctrl-D Exit Julia","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Explore the file structure.","category":"page"},{"location":"chapter2/#Activity-2.2:-Create-the-Accounts-Module.","page":"2 - Setup the Development Environment","title":"Activity 2.2: Create the Accounts Module.","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"In this activity you will create the basic application file structure for the module Accounts using PkgTemplates:","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Create a template.\nCreate the module Accounts.\nGo to the development directory ~/.julia/dev/Accounts/.\nStart Atom/Juno.","category":"page"},{"location":"chapter2/#Prerequisites-2","page":"2 - Setup the Development Environment","title":"Prerequisites","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Activity 2.1.\nUbuntu 20.04.\nJulia 1.5 installed.\nAtom/Juno installed.\nGit installed.\nJulia PkgTemplates package installed.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Step Action Comment\n1 $ julia Start Julia.\n2 julia> using PkgTemplates Load PkgTemplates.\n3 julia> t = Template() Construct a default template.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"  authors: [\"Rob Bontekoe <rbontekoe@appligate.nl> and contributors\"]\n  dir: \"~/.julia/dev\"\n  host: \"github.com\"\n  julia: v\"1.0.0\"\n  user: \"rbontekoe\"\n  plugins:\n    CompatHelper:\n      file: \"~/.julia/packages/PkgTemplates/aXRp5/templates/github/workflows/CompatHelper.yml\"\n      destination: \"CompatHelper.yml\"\n      cron: \"0 0 * * *\"\n    Git:\n      ignore: String[]\n      name: nothing\n      email: nothing\n      branch: nothing\n      ssh: false\n      jl: true\n      manifest: false\n      gpgsign: false\n    License:\n      path: \"~/.julia/packages/PkgTemplates/aXRp5/templates/licenses/MIT\"\n      destination: \"LICENSE\"\n    ProjectFile:\n      version: v\"0.1.0\"\n    Readme:\n      file: \"~/.julia/packages/PkgTemplates/aXRp5/templates/README.md\"\n      destination: \"README.md\"\n      inline_badges: false\n    SrcDir:\n      file: \"~/.julia/packages/PkgTemplates/aXRp5/templates/src/module.jl\"\n    TagBot:\n      file: \"~/.julia/packages/PkgTemplates/aXRp5/templates/github/workflows/TagBot.yml\"\n      destination: \"TagBot.yml\"\n      cron: \"0 0 * * *\"\n      token: Secret(\"GITHUB_TOKEN\")\n      ssh: Secret(\"DOCUMENTER_KEY\")\n      ssh_password: nothing\n      changelog: nothing\n      changelog_ignore: nothing\n      gpg: nothing\n      gpg_password: nothing\n      registry: nothing\n      branches: nothing\n      dispatch: nothing\n      dispatch_delay: nothing\n    Tests:\n      file: \"~/.julia/packages/PkgTemplates/aXRp5/templates/test/runtests.jl\"\n      project: false","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Step Action Comment\n4 julia> t(\"Accounts\") Create the package environment Accounts.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"[ Info: Running prehooks\n[ Info: Running hooks\n Activating environment at `~/.julia/dev/Accounts/Project.toml`\n   Updating registry at `~/.julia/registries/General`\n######################################################################## 100,0%\nNo Changes to `~/.julia/dev/Accounts/Project.toml`\nNo Changes to `~/.julia/dev/Accounts/Manifest.toml`\n Activating environment at `~/.julia/environments/v1.5/Project.toml`\n[ Info: Running posthooks\n[ Info: New package is at /home/rob/.julia/dev/Accounts","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Step Action Comment\n5 julia> Ctrl-D Exit Julia.\n6 $ cd ~/.julia/dev/Accounts/ Go to Accounts folder.\n7 $ atom . Start Atom/Juno.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"You will see the following file structure.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"·µ•üìÅ Accounts\n   üìÅ .git\n   üìÅ .github\n  ·µ•üìÅ src\n     üìÑ Accounts.jl #1\n  ·µ•üìÅ test\n     üìÑ runtests.jl #2\n   üìÑ .gitignore\n   üìÑ LICENCE\n   üìÑ Manifest.toml\n   üìÑ Project.toml #3\n   üìÑ README.md","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"#1 File with the name of the module where you define among other things:","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"sub-modules,\n(export) of the functions that others can invoke immediately,\nas well as data structures, and\n(import) of the elements, you want to use from other (sub-)modules or packages.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"#2 Unit tests.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"#3 Contains the module version and its dependencies.","category":"page"},{"location":"chapter2/#Activity-2.3:-Create-a-Repository-on-GitHub","page":"2 - Setup the Development Environment","title":"Activity 2.3: Create a Repository on GitHub","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"In this activity, you create a repository on GitHub. You can push changes in the design of the module to GitHub. Later on, you will learn how others can use the module.","category":"page"},{"location":"chapter2/#Prerequisites-3","page":"2 - Setup the Development Environment","title":"Prerequisites","text":"","category":"section"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Ubuntu 20.04.\nJulia 1.5 installed.\nAtom/Juno installed.\nGit installed.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Step Action Comment\n1 Go to GitHub Create an account if you don't have one. What is GitHub?\n2 Click on the green button New Maybe you have first to click on the tab Repositories.\n3 Give the repository the name: Accounts.jl The extention .jl is mandatory.\n4 Give the repository a description E.g. A module for the BAWJ course with which you can experiment.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"warning: Warning\nDon't change the default settings!","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Step Action Comment\n5 Click on the green button Create repository The button is located at the bottom side.\n6 Go to the folder ~/.julia/dev/Accounts \n7 $ git status The response is:","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"On branch master\nnothing to commit, working tree clean","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"Step Action Comment\n8 $ atom . Start Atom/Juno.\n9 Click on the Publish button You will find the button in the lower right corner.\n10 Check the update on GitHub You should see the same file structure. Manifest.toml is missing¬π.","category":"page"},{"location":"chapter2/","page":"2 - Setup the Development Environment","title":"2 - Setup the Development Environment","text":"¬π \"The Manifest. toml is like a screenshot of your current environment that has all the information needed to replicate this environment elsewhere, e.g. the URL of unregistered packages, branch, commit, etc,\" see What‚Äôs the use a Project.toml file and the use of a Manifest.toml in a Julia project?. The file is mentioned in the file .gitignore and will not be pushed to GitHub. When you provide this file to another person then one can create the same environment as you have after activating the folder (pkg> activate .) representing the git clone of your package ($ git clone https://github.com/rbontekoe/Accounts.jl.git).","category":"page"},{"location":"overview/#Overview-Julia","page":"Overview Julia","title":"Overview Julia","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Pages = [\"overview.md\"]","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"There are many excellent courses on Julia. We suppose that the reader has some basic knowledge of Julia, as in Think Julia. We recapitulate the most important differences with other languages.","category":"page"},{"location":"overview/#Concatenation","page":"Overview Julia","title":"Concatenation","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"In Julia is the asterisk (*) used as a concatenation symbol instead of the plus-sign (+) in other languages.","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"julia> a = \"Hello \"\n\"Hello\"\n\njulia> b = \"World!\"\n\"World!\"\n\njulia> c = a * b\n\"Hello World!\"","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Top","category":"page"},{"location":"overview/#Iteration","page":"Overview Julia","title":"Iteration","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"See Think Julia, 7. Iteration","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Some examples.","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"julia> range = 0:0.1:0.5œÄ # values from 0 to 0.5œÄ radians (90¬∞), with a step value of 0.1 radian\n0.0:0.1:1.5\n\njulia> y = [sin(x) for x in range] # calculate sin for the values in the variable range\n16-element Array{Float64,1}:\n 0.0                \n 0.09983341664682815\n 0.19866933079506122\n 0.2955202066613396\n 0.3894183423086505\n 0.479425538604203  \n 0.5646424733950355\n 0.6442176872376911\n 0.7173560908995228\n 0.7833269096274834\n 0.8414709848078965\n 0.8912073600614354\n 0.9320390859672264\n 0.963558185417193  \n 0.9854497299884603\n 0.9974949866040544\n\njulia> using Plots\n\njulia> plot(x -> sin(x) , 0:0.1:2œÄ) # passing a value to sin(x)\n\njulia> plot(sin, 0:0.1:2œÄ) # works also\n","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Top","category":"page"},{"location":"overview/#Help","page":"Overview Julia","title":"Help","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"\njulia> ?\nhelp?> sin\nsearch: sin sinh sind sinc sinpi sincos asin using isinf asinh asind isinteger\n\n  sin(x)\n\n  Compute sine of x, where x is in radians.\n\n  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n  sin(A::AbstractMatrix)\n\n  Compute the matrix sine of a square matrix A.\n\n  If A is symmetric or Hermitian, its eigendecomposition (eigen) is used to\n  compute the sine. Otherwise, the sine is determined by calling exp.\n\n  Examples\n  ‚â°‚â°‚â°‚â°‚â°‚â°‚â°‚â°‚â°‚â°\n\n  julia> sin(fill(1.0, (2,2)))\n  2√ó2 Array{Float64,2}:\n   0.454649  0.454649\n   0.454649  0.454649","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Top","category":"page"},{"location":"overview/#User-defined-functions","page":"Overview Julia","title":"User defined functions","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"julia> function f(x, œï, b)\n         sin(x + œï) + b\n       end\nf (generic function with 1 method)\n\njulia> 0.3f(0.5œÄ, 0.1œÄ, 1)\n0.5853169548885461\n","category":"page"},{"location":"overview/#Multiple-dispatch","page":"Overview Julia","title":"Multiple dispatch","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"In object oriented languages like Java we can overload a method. Julia, however, is a functional language. Here we can use the same function name as long as the signatures are different.","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"julia> f(x) = sin(x) # function with one argument\nf (generic function with 1 methods)\n\njulia> f(x, œà) = sin(x - œà)  # function with two arguments\nf (generic function with 2 methods)\n\njulia> f(x, œà, b) = sin(x - œà) + b   # function with three arguments\nf (generic function with 3 methods)\n\njulia> f(x::Int64) = sin(x/180 * œÄ) # function in degrees, argument has to be an integer\nf (generic function with 4 methods)\n\njulia> methods(f) # show all methods of the function f\n# 4 methods for generic function \"f\":\n[1] f(x::Int64) in Main at REPL[10]:1\n[2] f(x) in Main at REPL[2]:1\n[3] f(x, œà) in Main at REPL[3]:1\n[4] f(x, œà, b) in Main at REPL[4]:1\n\njulia> f(0.5œÄ) # 90 degrees in radians\n1.0\n\njulia> f(0.5œÄ, 0.1œÄ) # with 0.1œÄ phase shift in radians\n0.9510565162951536\n\njulia> f(0.5œÄ, 0.1œÄ, 1)\n1.9510565162951536\n\njulia> f(90) # 90 degrees as integer\n1.0\n\njulia> f(90.0) # should be 0.5œÄ\n0.8939966636005579\n","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Top","category":"page"},{"location":"overview/#User-defined-data-structures","page":"Overview Julia","title":"User defined data structures","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Julia is not a object oriented programming language. But you can define data structures with constructors, and use the dot notation to refer to its data elements.","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"\njulia> struct Subscriber\n           id::String\n           name::String\n           email::String\n           #constructors\n           Subscriber(name::String) = new( createKey(name), name, \"\" )\n           Subscriber(name::String, email::String) = new( createKey(name), name, email )\n       end # defined Subscriber object\n\njulia> createKey(name::String) = string(hash(name * string(time())))\ncreateKey (generic function with 1 method)\n\njulia> daisy = Subscriber(\"Daisy\")\nSubscriber(\"6761641919537447636\", \"Daisy\", \"\")\n\njulia> daisy.name\n\"Daisy\"","category":"page"},{"location":"overview/#Plotting-data","page":"Overview Julia","title":"Plotting data","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"See Plots","category":"page"},{"location":"overview/#Installing-the-Plots-package","page":"Overview Julia","title":"Installing the Plots package","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"julia> ]\n\n(v1.1) pkg> add Plots <Enter>\n\n(v1.1) pkg> Ctrl-C\n\njulia>","category":"page"},{"location":"overview/#Using-Plots","page":"Overview Julia","title":"Using Plots","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"\njulia> using Plots; gr()\n\njulia> plot(x -> sin(x/180 * œÄ), 0:01:360, xlabel=\"Degrees\", title=\"Plot sin\", label=\"No phase shift\")\n\njulia> œà = 30 # degrees\n30\n\njulia> plot!( x -> sin( (x - œà)/180 * œÄ ), 0:01:360, label=\"$(œà)¬∞ phase shift\")\n","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Top","category":"page"},{"location":"overview/#Useful-to-know-Version-1.1.1-(2019-05-16)","page":"Overview Julia","title":"Useful to know - Version 1.1.1 (2019-05-16)","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Testing conditions","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"julia> x = 5\n5\n\njulia> 0 < x < 6\ntrue\n\njulia> 0 ‚â§ x ‚â§ 5 # ‚â§  is \\le<Tab>\ntrue\n\njulia> 0 ‚â§ x ‚â§ 4\nfalse\n\njulia> 5 ‚â• x ‚â• 0 # ‚â• is \\ge<Tab>\ntrue\n\njulia> x ‚â† 4 # ‚â† is \\ne<Tab>\ntrue\n","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Sets, symbolsœÄ","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"julia> a = [1, 2, 3]\n3-element Array{Int64,1}:\n 1\n 2\n 3\n\njulia> b = [3, 4, 5]\n3-element Array{Int64,1}:\n 3\n 4\n 5\n\njulia> a ‚à© b # ‚à© is \\cap<Tab>, also intersect(a, b)\n1-element Array{Int64,1}:\n 3\n\njulia> a ‚à™ b # ‚à© is \\cup<Tab>, also union(a, b)\n5-element Array{Int64,1}:\n 1\n 2\n 3\n 4\n 5\n\njulia> symdiff(a, b) # forgot the symbol\n4-element Array{Int64,1}:\n 1\n 2\n 4\n 5\n\njulia> 3 ‚àà a # 3 element of a, \\in<Tab>\ntrue\n\njulia> 3 ‚àâ a # 3 not an element of a, \\notin<Tab>\nfalse\n\njulia> a ‚äÜ b # a subset of b, ‚äÜ is \\subseteq<Tab>\nfalse\n\njulia> b ‚äá [3, 4] # b is superset of [3, 4], ‚äÜ = \\supseteq<Tab>\ntrue","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Natural constant ‚ÑØ and œÄ","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"\njulia> ‚ÑØ # \\euler<Tab>\n‚ÑØ = 2.7182818284590...\n\njulia> œÄ # \\pi<Tab>\nœÄ = 3.1415926535897...\n\njulia> factorial(4)\n24\n\njulia> 1*2*3*4\n24","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Functional programming","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"\njulia> a = [2, 3, 4]\n3-element Array{Int64,1}:\n 2\n 3\n 4\n\njulia> map(x -> x^2, a)\n3-element Array{Int64,1}:\n 4\n 9\n16\n\njulia> reduce( (x, y) -> x + y, a)\n9\n\njulia> sum(a)\n9\n\njulia> reduce( (x, y) -> x^2 + y^2, a)\n185\n\njulia> (2^2 + 3^2)^2 + 4^2\n185","category":"page"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Top","category":"page"},{"location":"overview/#Summary","page":"Overview Julia","title":"Summary","text":"","category":"section"},{"location":"overview/","page":"Overview Julia","title":"Overview Julia","text":"Top","category":"page"},{"location":"chapter5/#.-Create-and-Test-Infrastructure.jl","page":"5 - Create and Test Infrastructure.jl","title":"5. Create and Test Infrastructure.jl","text":"","category":"section"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"The Infrastructure has functions that refer to the outer world and can use elements from the Domain and API layers. For example:","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"converting JSON data to Julia objects or visa versa.\nstoring Julia's objects.\nretrieving objects.\nEvent Sourcing, registering events, and replaying a history of events.\nCQRS (Command Query Responsibility Segregation), separating events from queries.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"In this chapter, you learn to store and retrieve data-types.","category":"page"},{"location":"chapter5/#Contents","page":"5 - Create and Test Infrastructure.jl","title":"Contents","text":"","category":"section"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"Pages = [\"chapter5.md\"]","category":"page"},{"location":"chapter5/#Infrastructure.jl","page":"5 - Create and Test Infrastructure.jl","title":"Infrastructure.jl","text":"","category":"section"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"module Infrastructure #1\n\nimport ..Accounts: Domain, API #2\n\nusing .Domain, .API #3\n\nusing Serialization #4\n\nexport add_to_file, read_from_file #5\n\nfunction add_to_file(file::String, data::Array{T, 1} where T <: Any) #6\n    io = open(file, \"a+\")\n    [serialize(io, r) for r in data]\n    close(io)\nend\n\nfunction read_from_file(file::String) #7\n    io = open(file, \"r\")\n\n    r = []\n    while !eof(io)\n        push!(r, deserialize(io))\n    end\n\n    close(io)\n\n    return r\nend\n\nend\n","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"#1 The name of the module is Infrastructure.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"#2 The sub-module uses only the elements from the higher onion peels, Domain, API, Julia, and any loaded packages.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"#3 The code loads the sub-modules Domain and API.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"#4 You have to serialize data you want to store on disk.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"#5 We export the methods read_from_file and add_to_file.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"#6 Read the data from a text file and deserialize it.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"#7 Serialize the data and write it to a text file.","category":"page"},{"location":"chapter5/#Accounts.jl","page":"5 - Create and Test Infrastructure.jl","title":"Accounts.jl","text":"","category":"section"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"The main module should also load the Infrastructure sub-module.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"module Accounts\n\n#export EMAIL, WORK # Domain\n#export create # API\n#export add_to_file, read_from_file # Infrastructure\n\ninclude(\"Domain.jl\"); using .Domain\ninclude(\"API.jl\"); using .API\ninclude(\"Infrastructure.jl\"); using .Infrastructure\n\nend","category":"page"},{"location":"chapter5/#test_infr.jl","page":"5 - Create and Test Infrastructure.jl","title":"test_infr.jl","text":"","category":"section"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"An example of how to use the code.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"using Pkg; Pkg.activate(\".\") # activate the Accounts environment from Julia\n\nimport Accounts: Domain, API, Infrastructure\n\nusing .Domain, .API, .Infrastructure\n\nconst FILE_ACCOUNTS = \"./test_accounts.txt\" # Julia gives a warning when the value is changed\n\ndonald_email = create(EMAIL, \"donald@duckcity.com\")\ndonald_work = create(WORK,\n  \"\"\"\n  Donalds Hardware Store\n  attn. Donald Duck\n  1190 Seven Seas Dr\n  FL 32830 Lake Buena Vista\n  USA\n  \"\"\"\n)\n\naddresses = [donald_email, donald_work]\n\ndonald = create(\"Donald Duck\", addresses)\n\nadd_to_file(FILE_ACCOUNTS, [donald])\n\nresult = read_from_file(FILE_ACCOUNTS)\n\nprintln(result)","category":"page"},{"location":"chapter5/#runtests.jl","page":"5 - Create and Test Infrastructure.jl","title":"runtests.jl","text":"","category":"section"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"The tests are extended for the sub-module Infrastructure","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"using Accounts\nusing Test\n\nconst FILE_ACCOUNTS = \"./test_accounts.txt\"\n\nimport Accounts: Domain, API, Infrastructure\nusing .Domain, .API, .Infrastructure\n\n@testset \"Domain.jl\" begin\n    donald_email = Address(EMAIL, \"donald@duckcity.com\")\n    donald = Person(\"Donald duck\", [donald_email])\n    email_addresses = filter(x -> x.address_type == EMAIL, donald.addresses)\n    @test email_addresses[1].address == \"donald@duckcity.com\"\nend\n\n@testset \"API.jl\" begin\n    donald_email = Address(EMAIL, \"donald@duckcity.com\")\n    donald = Person(\"Donald Duck\", [donald_email])\n    email_addresses = filter(x -> x.address_type == EMAIL, donald.addresses)\n    @test email_addresses[1].address == \"donald@duckcity.com\"\nend\n\n@testset \"Infrastructure.jl\" begin\n    donald_email = create(EMAIL, \"donald@duckcity.com\")\n    donald = create(\"Donald Duck\", [donald_email])\n    add_to_file(FILE_ACCOUNTS, [donald])\n    result = read_from_file(FILE_ACCOUNTS)\n    first_person = result[1]\n    @test first_person.addresses[1].address == \"donald@duckcity.com\"\n    cmd = `rm $FILE_ACCOUNTS`\n    run(cmd)\nend\n","category":"page"},{"location":"chapter5/#Exercise-5.1:-Adding-the-Sub-Module-Infrastructure","page":"5 - Create and Test Infrastructure.jl","title":"Exercise 5.1: Adding the Sub-Module Infrastructure","text":"","category":"section"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"In this exercise, you perform the following tasks.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"Step 1 - You create the file Infrastructure.jl with the Infrastructure sub-module code and update Accounts.jl. Add Serialization as a  dependency of the module in Project.toml.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"Step 2 - You append the unit test code to the file runtests.jl and verify it.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"Step 3 - You see an example of the code on how to use it as a programmer.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"Step 4 - You update your GitHub repository.","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"Create the file Infrastructure.jl and add the code of section Infrastructure.jl to the file.\nModify  Accounts.jl according to section Accounts.jl.\nAdd the Serialization package as dependency to Project.toml.\nAdd the code from section runtests.jl to the file runtests.jl.\nGo to the package manager, activate Accounts (activate .).\nRun the test (test Accounts). You should see:","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"Test Summary: | Pass  Total\nDomain.jl     |    1      1\nTest Summary: | Pass  Total\nAPI.jl        |    1      1\nTest Summary:     | Pass  Total\nInfrastructure.jl |    1      1\n    Testing Accounts tests passed","category":"page"},{"location":"chapter5/","page":"5 - Create and Test Infrastructure.jl","title":"5 - Create and Test Infrastructure.jl","text":"Create the file test_infr.jl and copy the code from section test_infr.jl into it.\nTest the code.\nPush the changes to your GitHub repository. Check the changes on GitHub.","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"(Image: AppliGate)","category":"page"},{"location":"#Building-Business-Applications-with-Julia","page":"Business Applications with Julia","title":"Building Business Applications with Julia","text":"","category":"section"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"In this course, you learn to create Julia modules. The software you write makes use of these modules and runs in Docker containers.","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"info: Info\nSee the Blog for the latest remarks!","category":"page"},{"location":"#Preface","page":"Business Applications with Julia","title":"Preface","text":"","category":"section"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"In July 2018, I read an article about a new programming language that was rapidly gaining in popularity, Julia. It appealed to me how you could define a function. Almost exactly as I learned it during my bachelor study electronics: f(x) = 2x¬≤ + 3x + 1, in Julia written as f(x) = 2x^2 + 3x + 1. Then I set up a project to learn how to implement the observer pattern. It was easy, but shelved it because I was working on Scala at that moment.","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"While working with Scala, I came in touch with the Onion Architecture, after watching Wade Waldron's presentation, Domain-Driven Design, and Onion Architecture. Since then, I use it.","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"The ease with which I could build business applications with Julia stayed with me.","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"At the beginning of 2019, a recruiter told me that the interest in Scala in the Netherlands was waning. Should I continue with Scala?","category":"page"},{"location":"#A-course-syllabus?","page":"Business Applications with Julia","title":"A course syllabus?","text":"","category":"section"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"I decided to stop with Scala and picked up my Julia observer trial project again.","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"It turned out that you can create effective documentation, using the package Documenter.jl. You write it in the markdown language and you can insert examples of how to use your code. During the creation of the HTML code, you can have the cases tested, which is useful if you later expand the module and generate the documentation again.","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"I had already a GitHub Pages profile, and thought: \"Why not set up the AppliGate website in this way and link it to my profile.\" I did it: https://www.appligate.nl.","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"With trying out so many things with Julia, the problem arose that I could not find specific trials back in my notes. After the success of the website, I thought: \"Why not set up a course where I can register all the interesting things?\".","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"In June 2020, I discovered a new package called Rocket.jl which supports the actor model. I know the actor model from my Scala and Akka period. It makes your application more robust and the workflow easier. It is the main reason I rewrite the course.","category":"page"},{"location":"#Business-Applications-with-Julia","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"","category":"section"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"The result is this course Building Business Applications with Julia. Chapters 1 till 6 are ready now.","category":"page"},{"location":"","page":"Business Applications with Julia","title":"Business Applications with Julia","text":"Rob Bontekoe","category":"page"}]
}
